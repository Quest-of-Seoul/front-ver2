import { questApi, type Quest } from "@/services/api";
import * as Location from "expo-location";
import { LinearGradient } from "expo-linear-gradient";
import { router, useLocalSearchParams } from "expo-router";
import { useEffect, useRef, useState } from "react";
import {
  ActivityIndicator,
  Image,
  Pressable,
  ScrollView,
  StyleSheet,
  Text,
  TextInput,
  View,
} from "react-native";
import Svg, { Path, Defs, RadialGradient, Stop } from "react-native-svg";

type SortByType = "nearest" | "rewarded" | "newest";

export default function MapSearchScreen() {
  const params = useLocalSearchParams();
  const lastProcessedParamsRef = useRef<string>("");

  const [searchQuery, setSearchQuery] = useState("");
  const [searchResults, setSearchResults] = useState<Quest[]>([]);
  const [loading, setLoading] = useState(false);
  const [userLocation, setUserLocation] = useState<{
    latitude: number;
    longitude: number;
  } | null>(null);
  const [debugInfo, setDebugInfo] = useState<string>("");
  const [selectedFilter, setSelectedFilter] = useState<"themes" | "districts">("themes");
  const [selectedSort, setSelectedSort] = useState<SortByType>("nearest");
  const [selectedThemes, setSelectedThemes] = useState<string[]>(["All Themes"]);
  const [selectedDistricts, setSelectedDistricts] = useState<string[]>(["All Districts"]);

  // Get user location on mount
  useEffect(() => {
    (async () => {
      try {
        const { status } = await Location.requestForegroundPermissionsAsync();
        if (status !== "granted") {
          setUserLocation({ latitude: 37.5665, longitude: 126.9780 });
          return;
        }

        const location = await Location.getCurrentPositionAsync({});
        setUserLocation({
          latitude: location.coords.latitude,
          longitude: location.coords.longitude,
        });
      } catch (error) {
        setUserLocation({ latitude: 37.5665, longitude: 126.9780 });
      }
    })();
  }, []);

  // Handle params from filter page
  useEffect(() => {
    if (params.fromFilter === "true") {
      // Create a unique key for this set of params to prevent re-processing
      const paramsKey = JSON.stringify(params);

      // Skip if we've already processed these exact params
      if (lastProcessedParamsRef.current === paramsKey) {
        return;
      }

      lastProcessedParamsRef.current = paramsKey;

      if (params.searchQuery) {
        setSearchQuery(params.searchQuery as string);
      }

      if (params.filteredQuests) {
        try {
          const quests = JSON.parse(params.filteredQuests as string);
          setSearchResults(quests);
        } catch (error) {
          // Ignore
        }
      }

      if (params.selectedThemes) {
        const themes = (params.selectedThemes as string).split(",");
        setSelectedThemes(themes);
        setSelectedFilter("themes");
      }

      if (params.selectedDistricts) {
        const districts = (params.selectedDistricts as string).split(",");
        setSelectedDistricts(districts);
      }

      if (params.selectedSort) {
        setSelectedSort(params.selectedSort as SortByType);
      }
    }
  }, [params]);

  // Debounced search
  useEffect(() => {
    if (!searchQuery.trim() || !userLocation) {
      setSearchResults([]);
      return;
    }

    const timeoutId = setTimeout(async () => {
      setLoading(true);
      try {
        const filterParams = {
          latitude: userLocation.latitude,
          longitude: userLocation.longitude,
          radius_km: 50.0,
          limit: 100,
          sort_by: selectedSort,
          categories: selectedThemes.includes("All Themes")
            ? []
            : selectedThemes.map(theme =>
                theme === "Attractions" ? "Attraction" : theme
              ),
          districts: selectedDistricts.includes("All Districts")
            ? []
            : selectedDistricts.map(d => d.replace("-district", "-gu")),
        };

        setDebugInfo(`Sending request to API...`);

        const response = await questApi.getFilteredQuests(filterParams);

        setDebugInfo(`API: success=${response.success}, count=${response.count}, quests=${response.quests?.length || 0}\nJSON: ${JSON.stringify(response).substring(0, 150)}`);

        if (response && response.quests && Array.isArray(response.quests)) {
          // Client-side filtering by search query
          const filteredQuests = response.quests.filter(quest =>
            quest.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
            quest.description?.toLowerCase().includes(searchQuery.toLowerCase())
          );

          setSearchResults(filteredQuests);
          setDebugInfo(`✅ Successfully set ${filteredQuests.length} results`);
        } else {
          setSearchResults([]);
          setDebugInfo(`❌ Invalid response: ${JSON.stringify(response).substring(0, 100)}`);
        }
      } catch (error) {
        setSearchResults([]);
        setDebugInfo(`❌ Error: ${error instanceof Error ? error.message : String(error)}`);
      } finally {
        setLoading(false);
      }
    }, 500); // 500ms debounce

    return () => clearTimeout(timeoutId);
  }, [searchQuery, selectedThemes, selectedDistricts, selectedSort, userLocation]);

  return (
    <View style={styles.container}>
      {/* Header */}
      <View style={styles.header}>
        {/* Back button */}
        <Pressable onPress={() => router.back()} style={styles.backButton}>
          <Svg width="9" height="17" viewBox="0 0 9 17" fill="none">
            <Path
              d="M8.52278 1.40604C8.59797 1.32648 8.65674 1.23289 8.69575 1.13062C8.73477 1.02835 8.75325 0.919389 8.75016 0.809971C8.74706 0.700552 8.72245 0.592815 8.67771 0.49291C8.63298 0.393005 8.56901 0.302889 8.48945 0.227708C8.40989 0.152526 8.3163 0.0937506 8.21403 0.0547377C8.11176 0.0157247 8.0028 -0.00276195 7.89338 0.000333335C7.78396 0.00342862 7.67623 0.0280451 7.57632 0.0727774C7.47642 0.11751 7.3863 0.181482 7.31112 0.261041L0.227785 7.76104C0.0815052 7.91576 0 8.12061 0 8.33354C0 8.54647 0.0815052 8.75132 0.227785 8.90604L7.31112 16.4069C7.3858 16.4882 7.4759 16.5538 7.57617 16.6C7.67644 16.6462 7.78489 16.672 7.89522 16.6759C8.00555 16.6798 8.11556 16.6618 8.21886 16.6228C8.32215 16.5839 8.41668 16.5248 8.49695 16.449C8.57722 16.3732 8.64162 16.2822 8.68643 16.1813C8.73123 16.0804 8.75554 15.9716 8.75795 15.8613C8.76035 15.7509 8.7408 15.6411 8.70043 15.5384C8.66006 15.4356 8.59968 15.3419 8.52278 15.2627L1.97945 8.33354L8.52278 1.40604Z"
              fill="white"
            />
          </Svg>
        </Pressable>

        {/* Search box */}
        <View style={styles.searchBox}>
          <Svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            style={styles.searchIcon}
          >
            <Path
              d="M14.0537 1.95054C12.8004 0.70142 11.1031 0 9.33375 0C7.56437 0 5.86713 0.70142 4.61382 1.95054C3.64403 2.9226 2.99694 4.16963 2.7605 5.5223C2.52406 6.87497 2.70972 8.26769 3.29225 9.51116L0.727749 12.076C0.503805 12.2827 0.323959 12.5325 0.198976 12.8105C0.0739928 13.0884 0.00645004 13.3888 0.000439965 13.6935C-0.00557011 13.9982 0.0500487 14.301 0.163974 14.5837C0.2779 14.8664 0.447792 15.1231 0.663411 15.3385C0.879031 15.5539 1.13592 15.7234 1.41871 15.837C1.7015 15.9506 2.00435 16.0059 2.30903 15.9995C2.61371 15.9931 2.91393 15.9252 3.19171 15.7998C3.46949 15.6745 3.71909 15.4943 3.9255 15.2701L6.49 12.7053C7.37865 13.1223 8.3482 13.3386 9.32981 13.3387C10.2074 13.3382 11.0762 13.1642 11.8862 12.8267C12.6962 12.4891 13.4315 11.9947 14.0497 11.3718C15.2987 10.1184 16 8.42091 16 6.65133C16 4.88174 15.2987 3.1843 14.0497 1.93085L14.0537 1.95054ZM13.2434 8.28772C12.8429 9.26248 12.094 10.0534 11.1426 10.5065C10.1912 10.9596 9.10529 11.0424 8.09615 10.739C7.08701 10.4356 6.22686 9.76757 5.68299 8.86491C5.13912 7.96225 4.95046 6.88954 5.15374 5.85546C5.35701 4.82137 5.93767 3.89986 6.78274 3.2703C7.62781 2.64073 8.67685 2.34812 9.72573 2.44936C10.7746 2.5506 11.7483 3.03852 12.4574 3.8181C13.1665 4.59768 13.5602 5.6132 13.562 6.66708C13.5628 7.22294 13.4545 7.77351 13.2434 8.28772Z"
              fill="#34495E"
              fillOpacity="0.55"
            />
          </Svg>
          <TextInput
            placeholder="Search place name here"
            placeholderTextColor="rgba(52, 73, 94, 0.55)"
            value={searchQuery}
            onChangeText={setSearchQuery}
            style={styles.searchInput}
            autoFocus
          />
        </View>
      </View>

      {/* Filter row */}
      <View style={styles.filterRow}>
        <Pressable style={styles.iconButton} onPress={() => setSearchQuery("")}>
          <Svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <Path
              d="M12 20C9.76667 20 7.875 19.225 6.325 17.675C4.775 16.125 4 14.2333 4 12C4 9.76667 4.775 7.875 6.325 6.325C7.875 4.775 9.76667 4 12 4C13.15 4 14.25 4.23734 15.3 4.712C16.35 5.18667 17.25 5.866 18 6.75V5C18 4.71667 18.096 4.47934 18.288 4.288C18.48 4.09667 18.7173 4.00067 19 4C19.2827 3.99934 19.5203 4.09534 19.713 4.288C19.9057 4.48067 20.0013 4.718 20 5V10C20 10.2833 19.904 10.521 19.712 10.713C19.52 10.905 19.2827 11.0007 19 11H14C13.7167 11 13.4793 10.904 13.288 10.712C13.0967 10.52 13.0007 10.2827 13 10C12.9993 9.71734 13.0953 9.48 13.288 9.288C13.4807 9.096 13.718 9 14 9H17.2C16.6667 8.06667 15.9377 7.33334 15.013 6.8C14.0883 6.26667 13.084 6 12 6C10.3333 6 8.91667 6.58334 7.75 7.75C6.58333 8.91667 6 10.3333 6 12C6 13.6667 6.58333 15.0833 7.75 16.25C8.91667 17.4167 10.3333 18 12 18C13.1333 18 14.171 17.7127 15.113 17.138C16.055 16.5633 16.784 15.7923 17.3 14.825C17.4333 14.5917 17.621 14.4293 17.863 14.338C18.105 14.2467 18.3507 14.2423 18.6 14.325C18.8667 14.4083 19.0583 14.5833 19.175 14.85C19.2917 15.1167 19.2833 15.3667 19.15 15.6C18.4667 16.9333 17.4917 18 16.225 18.8C14.9583 19.6 13.55 20 12 20Z"
              fill="white"
            />
          </Svg>
        </Pressable>

        <Pressable
          style={[styles.iconButton, { marginLeft: 14 }]}
          onPress={() => {
            router.push({
              pathname: "/(tabs)/map/filter",
              params: {
                selectedFilter: selectedFilter,
                selectedSort: selectedSort,
                selectedThemes: selectedThemes.join(","),
                selectedDistricts: selectedDistricts.join(","),
                searchQuery: searchQuery, // 검색어 전달
              }
            });
          }}
        >
          <Svg width="30" height="30" viewBox="0 0 30 30" fill="none">
            <Path
              d="M26.5625 15H11.1188M5.6675 15H3.4375M5.6675 15C5.6675 14.2773 5.9546 13.5842 6.46563 13.0731C6.97667 12.5621 7.66979 12.275 8.3925 12.275C9.11522 12.275 9.80833 12.5621 10.3194 13.0731C10.8304 13.5842 11.1175 14.2773 11.1175 15C11.1175 15.7227 10.8304 16.4158 10.3194 16.9269C9.80833 17.4379 9.11522 17.725 8.3925 17.725C7.66979 17.725 6.97667 17.4379 6.46563 16.9269C5.9546 16.4158 5.6675 15.7227 5.6675 15ZM26.5625 23.2587H19.3775M19.3775 23.2587C19.3775 23.9816 19.0897 24.6755 18.5786 25.1867C18.0674 25.6978 17.3741 25.985 16.6513 25.985C15.9285 25.985 15.2354 25.6966 14.7244 25.1856C14.2133 24.6746 13.9262 23.9815 13.9262 23.2587M19.3775 23.2587C19.3775 22.5359 19.0897 21.8432 18.5786 21.3321C18.0674 20.8209 17.3741 20.5337 16.6513 20.5337C15.9285 20.5337 15.2354 20.8208 14.7244 21.3319C14.2133 21.8429 13.9262 22.536 13.9262 23.2587M13.9262 23.2587H3.4375M26.5625 6.74124H22.6813M17.23 6.74124H3.4375M17.23 6.74124C17.23 6.01852 17.5171 5.32541 18.0281 4.81437C18.5392 4.30333 19.2323 4.01624 19.955 4.01624C20.3129 4.01624 20.6672 4.08672 20.9978 4.22366C21.3284 4.36061 21.6288 4.56133 21.8819 4.81437C22.1349 5.06741 22.3356 5.36781 22.4726 5.69842C22.6095 6.02904 22.68 6.38338 22.68 6.74124C22.68 7.09909 22.6095 7.45344 22.4726 7.78405C22.3356 8.11466 22.1349 8.41506 21.8819 8.6681C21.6288 8.92114 21.3284 9.12186 20.9978 9.25881C20.6672 9.39575 20.3129 9.46623 19.955 9.46623C19.2323 9.46623 18.5392 9.17914 18.0281 8.6681C17.5171 8.15706 17.23 7.46395 17.23 6.74124Z"
              stroke="white"
              strokeWidth="1.875"
              strokeMiterlimit="10"
              strokeLinecap="round"
            />
          </Svg>
        </Pressable>

        <ScrollView
          horizontal
          showsHorizontalScrollIndicator={false}
          style={styles.categoriesScroll}
          contentContainerStyle={styles.categoriesContent}
        >
          <View style={styles.category}>
            <Text style={styles.categoryText}>
              {selectedThemes.length === 1 && selectedThemes[0] === "All Themes"
                ? "All Themes"
                : selectedThemes.length === 1
                  ? selectedThemes[0]
                  : `${selectedThemes.length} Themes`}
            </Text>
          </View>
          <View style={styles.category}>
            <Text style={styles.categoryText}>
              {selectedDistricts.length === 1 && selectedDistricts[0] === "All Districts"
                ? "All Districts"
                : selectedDistricts.length === 1
                  ? selectedDistricts[0]
                  : `${selectedDistricts.length} Districts`}
            </Text>
          </View>
          <View style={styles.categoryWithIcon}>
            <Svg width="12" height="12" viewBox="0 0 12 12" fill="none">
              <Path
                d="M0.702404 4.91659L10.515 0.198826C11.8218 -0.304898 12.2965 0.157875 11.8177 1.48066L7.27664 11.2848C7.19557 11.5085 7.0441 11.6992 6.84541 11.8277C6.64672 11.9563 6.41175 12.0156 6.1765 11.9965C5.94125 11.9775 5.7187 11.8811 5.54286 11.7223C5.36702 11.5634 5.24762 11.3508 5.20293 11.1169C4.88639 9.47878 2.79239 7.36153 1.14478 7.05438L0.876926 7.00114C0.645723 6.95733 0.435121 6.8382 0.277417 6.66205C0.119713 6.4859 0.0236217 6.26241 0.00381896 6.02586C-0.0159837 5.7893 0.041604 5.55272 0.16779 5.35237C0.293975 5.15201 0.481761 4.99892 0.702404 4.91659Z"
                fill="#659DF2"
              />
            </Svg>
            <Text style={styles.categoryIconText}>
              {selectedSort === "nearest" ? "Nearest Trip" : selectedSort === "rewarded" ? "Most Rewarded" : "Newest"}
            </Text>
          </View>
        </ScrollView>
      </View>

      {/* Search Results */}
      <ScrollView style={styles.content}>
        {loading && (
          <View style={styles.loadingContainer}>
            <ActivityIndicator size="large" color="#FFF" />
          </View>
        )}

        {!loading && searchQuery !== "" && searchResults.length > 0 && (
          <View style={styles.resultsContainer}>
            <Text style={styles.resultsTitle}>
              Found {searchResults.length} place{searchResults.length > 1 ? 's' : ''}
            </Text>
            <View style={styles.resultsGrid}>
              {searchResults.map((quest) => (
                <Pressable
                  key={quest.id}
                  style={styles.cardWrapper}
                  onPress={() => {
                    router.push({
                      pathname: "/(tabs)/map",
                      params: {
                        searchResult: JSON.stringify(quest),
                        focusQuestId: quest.id.toString(),
                      },
                    });
                  }}
                >
                  <View style={styles.placeImageContainer}>
                    {quest.place_image_url && (
                      <Image
                        source={{ uri: quest.place_image_url }}
                        style={styles.placeImage}
                      />
                    )}
                    <Text style={styles.placeCategoryText}>{quest.category || 'Place'}</Text>
                    <Pressable style={styles.plusButton}>
                      <Svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <Path d="M14.8571 9.14286H9.14286V14.8571C9.14286 15.1602 9.02245 15.4509 8.80812 15.6653C8.59379 15.8796 8.30311 16 8 16C7.6969 16 7.40621 15.8796 7.19188 15.6653C6.97755 15.4509 6.85714 15.1602 6.85714 14.8571V9.14286H1.14286C0.839753 9.14286 0.549063 9.02245 0.334735 8.80812C0.120408 8.59379 0 8.30311 0 8C0 7.6969 0.120408 7.40621 0.334735 7.19188C0.549063 6.97755 0.839753 6.85714 1.14286 6.85714H6.85714V1.14286C6.85714 0.839753 6.97755 0.549062 7.19188 0.334735C7.40621 0.120407 7.6969 0 8 0C8.30311 0 8.59379 0.120407 8.80812 0.334735C9.02245 0.549062 9.14286 0.839753 9.14286 1.14286V6.85714H14.8571C15.1602 6.85714 15.4509 6.97755 15.6653 7.19188C15.8796 7.40621 16 7.6969 16 8C16 8.30311 15.8796 8.59379 15.6653 8.80812C15.4509 9.02245 15.1602 9.14286 14.8571 9.14286Z" fill="white"/>
                      </Svg>
                    </Pressable>
                    {quest.distance_km !== undefined && (
                      <View style={styles.distanceBadge}>
                        <Svg width="10" height="10" viewBox="0 0 10 10" fill="none">
                          <Path d="M9.49609 0.501953C9.4967 0.511802 9.50014 0.523321 9.5 0.537109C9.49887 0.64138 9.4678 0.808104 9.38184 1.04883L5.61035 9.19434L5.60156 9.21387L5.59375 9.2334C5.56315 9.31782 5.50604 9.38903 5.43262 9.43652C5.35932 9.48388 5.27333 9.50595 5.1875 9.49902C5.1016 9.49207 5.01943 9.45648 4.9541 9.39746C4.88881 9.33843 4.84406 9.25842 4.82715 9.16992V9.16895L4.79199 9.01465C4.59556 8.24175 4.04883 7.43937 3.41504 6.80273C2.7393 6.12398 1.87207 5.54092 1.04492 5.38672L0.828125 5.34375L0.824219 5.34277L0.761719 5.32617C0.701821 5.30413 0.647322 5.2667 0.603516 5.21777C0.545136 5.15242 0.508439 5.06864 0.500977 4.97949C0.493596 4.89034 0.515442 4.8013 0.5625 4.72656C0.609571 4.65182 0.679301 4.59552 0.759766 4.56543L0.78125 4.55762L0.801758 4.54785L8.95898 0.625C9.19511 0.535375 9.35976 0.503188 9.46289 0.5C9.47568 0.499607 9.48672 0.501617 9.49609 0.501953Z" stroke="#F5F5F5"/>
                        </Svg>
                        <Text style={styles.distanceText}>{quest.distance_km.toFixed(1)}km</Text>
                      </View>
                    )}
                    <LinearGradient
                      colors={["#76C7AD", "#3A6154"]}
                      start={{ x: 0, y: 0 }}
                      end={{ x: 1, y: 0 }}
                      style={styles.mintBadge}
                    >
                      <Svg width="16" height="10" viewBox="0 0 16 10" fill="none" style={styles.mintIcon}>
                        <Path d="M7.97656 0.5C8.66625 0.505346 9.34579 0.688996 9.95508 1.03613C10.5644 1.38334 11.0863 1.88423 11.4727 2.49707L11.8076 3.02832L12.25 2.58301C12.4078 2.42426 12.5942 2.30362 12.7959 2.22754L12.8047 2.22461L13.7578 1.84473C14.1608 1.68634 14.5665 1.6956 14.874 1.81055C15.1809 1.92526 15.3604 2.12924 15.4121 2.3584L15.4814 2.6709V2.67188C15.5433 2.94777 15.4221 3.28911 15.0869 3.56152L14.5449 4.00098L15.1367 4.37207C15.2406 4.43732 15.3299 4.53127 15.3945 4.64648C15.443 4.73304 15.476 4.82923 15.4912 4.92969L15.5 5.03125V5.33789C15.5 5.58665 15.3625 5.83372 15.0674 6.02734L14.4883 6.40723L15.0303 6.83789C15.4195 7.14688 15.5503 7.53718 15.4688 7.83594L15.3818 8.13477L15.3809 8.13965C15.3167 8.37087 15.1173 8.5688 14.7861 8.66113C14.4546 8.75345 14.0298 8.72287 13.6309 8.5166H13.6299L12.71 8.04199L12.707 8.04102C12.5122 7.94195 12.3377 7.79878 12.1973 7.61914L11.7764 7.0791L11.3906 7.64453C11.2577 7.8391 11.1098 8.02158 10.9482 8.18945L10.9453 8.19141C10.5132 8.64672 9.99469 8.9976 9.42578 9.2207C8.85712 9.44368 8.25031 9.53447 7.64648 9.48828C7.04246 9.44203 6.45323 9.25922 5.91992 8.95117C5.38666 8.64311 4.92044 8.21673 4.55469 7.69922L4.18359 7.17383L3.76562 7.66309C3.63164 7.82006 3.47111 7.9469 3.29395 8.03711L3.29199 8.03809L2.37207 8.51172H2.37109C1.97187 8.71816 1.54829 8.74853 1.21777 8.65625C0.888053 8.56416 0.686747 8.36684 0.620117 8.13281L0.619141 8.12988L0.533203 7.83398C0.454976 7.53756 0.584715 7.14438 0.974609 6.83008L1.50879 6.39941L0.93457 6.02344C0.640255 5.83044 0.502024 5.57912 0.501953 5.33398V5.03027C0.505997 4.89354 0.542223 4.76088 0.606445 4.64551C0.670593 4.53039 0.759897 4.43663 0.863281 4.37109L1.44727 4.00098L0.912109 3.5625C0.577499 3.28772 0.454259 2.9457 0.515625 2.67188V2.6709L0.584961 2.35645C0.63714 2.12824 0.817559 1.92506 1.12402 1.81055C1.43186 1.69559 1.83729 1.68655 2.23926 1.84473V1.8457L3.19434 2.22461L3.19824 2.22559C3.37976 2.29627 3.54914 2.40209 3.69727 2.53809L4.13184 2.9375L4.4541 2.44238C4.84885 1.83571 5.3772 1.34256 5.99121 1.00488C6.60505 0.667345 7.28698 0.494722 7.97656 0.5Z" fill="#76C7AD" stroke="white"/>
                      </Svg>
                      <Text style={styles.mintText}>{quest.reward_point}</Text>
                    </LinearGradient>
                  </View>
                  <View style={styles.placeInfoBottom}>
                    <Text style={styles.placeNameText} numberOfLines={2}>{quest.name}</Text>
                    {quest.district && (
                      <Text style={styles.placeLocationText}>{quest.district}</Text>
                    )}
                  </View>
                </Pressable>
              ))}
            </View>
          </View>
        )}

        {!loading && searchQuery !== "" && searchResults.length === 0 && (
          <View style={styles.noResultsContainer}>
            <Image
              source={require("@/assets/images/face-2-2.png")}
              style={styles.docentFaceImage}
              resizeMode="contain"
            />
            <Svg
              width="130"
              height="46"
              viewBox="0 0 130 46"
              fill="none"
              style={styles.oopsText}
            >
              <Path
                d="M15.936 36.3333C12.5016 36.3333 9.59688 35.5873 7.22173 34.0952C4.84658 32.6032 3.04918 30.5397 1.82951 27.9048C0.609835 25.2698 0 22.2381 0 18.8095C0 15.4127 0.609835 12.3968 1.82951 9.76191C3.04918 7.09524 4.84658 5.01587 7.22173 3.52381C9.59688 2 12.5016 1.2381 15.936 1.2381C19.3703 1.2381 22.259 2 24.602 3.52381C26.9772 5.01587 28.7746 7.09524 29.9943 9.76191C31.2139 12.3968 31.8238 15.4127 31.8238 18.8095C31.8238 22.2381 31.2139 25.2698 29.9943 27.9048C28.7746 30.5397 26.9772 32.6032 24.602 34.0952C22.259 35.5873 19.3703 36.3333 15.936 36.3333ZM6.06625 18.0476C6.06625 19.0317 6.30698 19.9683 6.78843 20.8571C7.26988 21.7143 8.21672 22.4127 9.62897 22.9524C11.0412 23.4603 13.1436 23.7143 15.936 23.7143C18.7284 23.7143 20.8146 23.4603 22.1948 22.9524C23.607 22.4127 24.5539 21.7143 25.0353 20.8571C25.5168 19.9683 25.7575 19.0317 25.7575 18.0476C25.7575 17.0317 25.5168 16.127 25.0353 15.3333C24.5539 14.5079 23.607 13.8571 22.1948 13.381C20.8146 12.873 18.7284 12.619 15.936 12.619C13.1436 12.619 11.0412 12.873 9.62897 13.381C8.21672 13.8571 7.26988 14.5079 6.78843 15.3333C6.30698 16.127 6.06625 17.0317 6.06625 18.0476Z"
                fill="#FEF5E7"
              />
              <Path
                d="M45.7997 36.2857C42.0444 36.2857 39.0434 35.1905 36.7966 33C34.5819 30.7778 33.4746 27.6508 33.4746 23.619C33.4746 21.1429 33.9881 18.9683 35.0152 17.0952C36.0423 15.2222 37.4706 13.7619 39.3001 12.7143C41.1617 11.6349 43.3283 11.0952 45.7997 11.0952C48.56 11.0952 50.8549 11.6349 52.6844 12.7143C54.5139 13.7619 55.878 15.2222 56.7767 17.0952C57.7075 18.9683 58.1729 21.1429 58.1729 23.619C58.1729 27.6508 57.1458 30.7778 55.0917 33C53.0696 35.1905 49.9722 36.2857 45.7997 36.2857ZM39.2038 22.8095C39.2038 23.7937 39.7013 24.4921 40.6963 24.9048C41.6913 25.2857 43.3924 25.4762 45.7997 25.4762C48.2069 25.4762 49.9081 25.2857 50.903 24.9048C51.898 24.4921 52.3955 23.7937 52.3955 22.8095C52.3955 21.8571 51.898 21.1905 50.903 20.8095C49.9081 20.4286 48.2069 20.2381 45.7997 20.2381C43.3924 20.2381 41.6913 20.4286 40.6963 20.8095C39.7013 21.1905 39.2038 21.8571 39.2038 22.8095Z"
                fill="#FEF5E7"
              />
              <Path
                d="M77.0867 36.1905C75.3214 36.1905 73.845 35.6508 72.6574 34.5714C71.5019 33.4921 70.7637 32.0952 70.4427 30.381H69.5761V41.3333C69.5761 42.6349 69.207 43.7302 68.4688 44.619C67.7306 45.5397 66.6072 46 65.0986 46C63.6543 46 62.5309 45.5397 61.7285 44.619C60.9582 43.7302 60.573 42.6032 60.573 41.2381V23.4286C60.573 21.8413 60.5088 20.5079 60.3804 19.4286C60.2841 18.3175 60.1879 17.3175 60.0916 16.4286C59.9632 15.0952 60.236 13.9683 60.91 13.0476C61.5841 12.0952 62.6753 11.5238 64.1839 11.3333C66.1418 11.0794 67.5219 11.4286 68.3243 12.381C69.1589 13.3016 69.5761 14.746 69.5761 16.7143V19L69.7687 19.0476C69.9292 17.8095 70.2983 16.6032 70.876 15.4286C71.4859 14.2222 72.3364 13.2381 73.4277 12.4762C74.519 11.6825 75.8991 11.2857 77.5682 11.2857C80.3606 11.2857 82.4308 12.3968 83.7788 14.619C85.159 16.8095 85.8491 19.746 85.8491 23.4286C85.8491 31.9365 82.9283 36.1905 77.0867 36.1905ZM69.3835 23.3333C69.3835 23.8413 69.4477 24.2381 69.5761 24.5238C69.7687 25.127 70.1699 25.5714 70.7797 25.8571C71.4217 26.1111 72.3685 26.2381 73.6203 26.2381C75.2251 26.2381 76.3164 26 76.8941 25.5238C77.504 25.0476 77.8089 24.3175 77.8089 23.3333C77.8089 22.3175 77.52 21.5873 76.9423 21.1429C76.3645 20.6667 75.2733 20.4286 73.6684 20.4286C72.3846 20.4286 71.4217 20.5714 70.7797 20.8571C70.1699 21.1111 69.7687 21.5397 69.5761 22.1429C69.4477 22.4286 69.3835 22.8254 69.3835 23.3333Z"
                fill="#FEF5E7"
              />
              <Path
                d="M100.386 36.8095C98.1712 36.8095 96.117 36.6032 94.2233 36.1905C92.3617 35.746 90.8692 35.0635 89.7458 34.1429C88.6224 33.1905 88.0607 31.9365 88.0607 30.381C88.0607 29.0159 88.478 27.8889 89.3125 27C90.147 26.1111 91.2543 25.6667 92.6345 25.6667C93.5011 25.6667 94.3677 25.8095 95.2343 26.0952C96.133 26.3492 97.0799 26.6032 98.0749 26.8571C99.0699 27.1111 100.145 27.2381 101.301 27.2381C102.328 27.2381 103.018 27.1905 103.371 27.0952C103.724 26.9683 103.9 26.746 103.9 26.4286C103.9 26.0476 103.676 25.7937 103.226 25.6667C102.809 25.5397 102.087 25.381 101.06 25.1905L97.5934 24.5238C96.1491 24.2381 94.7368 23.873 93.3567 23.4286C92.0086 22.9524 90.8852 22.254 89.9865 21.3333C89.1199 20.4127 88.6866 19.1587 88.6866 17.5714C88.6866 15.4127 89.6495 13.7302 91.5753 12.5238C93.5332 11.3175 96.3577 10.7143 100.049 10.7143C102.167 10.7143 104.061 10.9206 105.73 11.3333C107.431 11.746 108.779 12.3651 109.774 13.1905C110.769 13.9841 111.267 14.9841 111.267 16.1905C111.299 17.4921 110.946 18.5397 110.207 19.3333C109.469 20.127 108.538 20.5238 107.415 20.5238C106.613 20.5238 105.794 20.4286 104.96 20.2381C104.157 20.0159 103.275 19.7937 102.312 19.5714C101.381 19.3175 100.306 19.1746 99.0859 19.1429C98.2193 19.0794 97.5132 19.127 96.9675 19.2857C96.4219 19.4444 96.1491 19.6984 96.1491 20.0476C96.1491 20.4286 96.47 20.6984 97.112 20.8571C97.7539 20.9841 98.7168 21.1587 100.001 21.381L103.419 22C105.505 22.3492 107.158 22.7937 108.378 23.3333C109.63 23.8413 110.528 24.5556 111.074 25.4762C111.62 26.3968 111.892 27.6667 111.892 29.2857C111.892 30.9683 111.395 32.381 110.4 33.5238C109.437 34.6349 108.089 35.4603 106.356 36C104.623 36.5397 102.633 36.8095 100.386 36.8095Z"
                fill="#FEF5E7"
              />
              <Path
                d="M116.805 6.57143C116.773 5.42857 116.966 4.36508 117.383 3.38095C117.832 2.36508 118.554 1.55556 119.549 0.952383C120.544 0.317461 121.828 0 123.401 0C125.006 0 126.29 0.317461 127.253 0.952383C128.248 1.55556 128.954 2.36508 129.371 3.38095C129.82 4.36508 130.029 5.42857 129.997 6.57143C129.965 7.61905 129.804 8.60318 129.515 9.52381C129.226 10.4444 128.889 11.3968 128.504 12.381C128.119 13.3333 127.766 14.3968 127.445 15.5714C127.124 16.7143 126.916 18.0317 126.819 19.5238C126.723 20.7619 126.37 21.6825 125.76 22.2857C125.15 22.8571 124.364 23.1429 123.401 23.1429C122.406 23.1429 121.604 22.8571 120.994 22.2857C120.384 21.7143 120.047 20.7937 119.983 19.5238C119.886 18.0317 119.678 16.7143 119.357 15.5714C119.036 14.3968 118.683 13.3333 118.298 12.381C117.912 11.3968 117.575 10.4444 117.287 9.52381C116.998 8.60318 116.837 7.61905 116.805 6.57143ZM123.401 37.0952C121.507 37.0952 120.031 36.6032 118.972 35.619C117.912 34.6032 117.383 33.2698 117.383 31.619C117.383 29.9365 117.912 28.5714 118.972 27.5238C120.063 26.4762 121.539 25.9524 123.401 25.9524C125.198 25.9524 126.627 26.4762 127.686 27.5238C128.745 28.5397 129.275 29.8889 129.275 31.5714C129.275 33.2222 128.761 34.5556 127.734 35.5714C126.707 36.5873 125.263 37.0952 123.401 37.0952Z"
                fill="#FEF5E7"
              />
            </Svg>
            <View style={styles.noResultsTextContainer}>
              <Text style={styles.noResultsText}>
                <Text style={styles.noResultsRegular}>I can&apos;t find </Text>
                <Text style={styles.noResultsBold}>{searchQuery}</Text>
              </Text>
            </View>
          </View>
        )}

        {searchQuery === "" && (
          <View style={styles.noResultsContainer}>
            <Image
              source={require("@/assets/images/face-2-2.png")}
              style={styles.docentFaceImage}
              resizeMode="contain"
            />
            <Svg
              width="130"
              height="46"
              viewBox="0 0 130 46"
              fill="none"
              style={styles.oopsText}
            >
              <Path
                d="M15.936 36.3333C12.5016 36.3333 9.59688 35.5873 7.22173 34.0952C4.84658 32.6032 3.04918 30.5397 1.82951 27.9048C0.609835 25.2698 0 22.2381 0 18.8095C0 15.4127 0.609835 12.3968 1.82951 9.76191C3.04918 7.09524 4.84658 5.01587 7.22173 3.52381C9.59688 2 12.5016 1.2381 15.936 1.2381C19.3703 1.2381 22.259 2 24.602 3.52381C26.9772 5.01587 28.7746 7.09524 29.9943 9.76191C31.2139 12.3968 31.8238 15.4127 31.8238 18.8095C31.8238 22.2381 31.2139 25.2698 29.9943 27.9048C28.7746 30.5397 26.9772 32.6032 24.602 34.0952C22.259 35.5873 19.3703 36.3333 15.936 36.3333ZM6.06625 18.0476C6.06625 19.0317 6.30698 19.9683 6.78843 20.8571C7.26988 21.7143 8.21672 22.4127 9.62897 22.9524C11.0412 23.4603 13.1436 23.7143 15.936 23.7143C18.7284 23.7143 20.8146 23.4603 22.1948 22.9524C23.607 22.4127 24.5539 21.7143 25.0353 20.8571C25.5168 19.9683 25.7575 19.0317 25.7575 18.0476C25.7575 17.0317 25.5168 16.127 25.0353 15.3333C24.5539 14.5079 23.607 13.8571 22.1948 13.381C20.8146 12.873 18.7284 12.619 15.936 12.619C13.1436 12.619 11.0412 12.873 9.62897 13.381C8.21672 13.8571 7.26988 14.5079 6.78843 15.3333C6.30698 16.127 6.06625 17.0317 6.06625 18.0476Z"
                fill="#FEF5E7"
              />
              <Path
                d="M45.7997 36.2857C42.0444 36.2857 39.0434 35.1905 36.7966 33C34.5819 30.7778 33.4746 27.6508 33.4746 23.619C33.4746 21.1429 33.9881 18.9683 35.0152 17.0952C36.0423 15.2222 37.4706 13.7619 39.3001 12.7143C41.1617 11.6349 43.3283 11.0952 45.7997 11.0952C48.56 11.0952 50.8549 11.6349 52.6844 12.7143C54.5139 13.7619 55.878 15.2222 56.7767 17.0952C57.7075 18.9683 58.1729 21.1429 58.1729 23.619C58.1729 27.6508 57.1458 30.7778 55.0917 33C53.0696 35.1905 49.9722 36.2857 45.7997 36.2857ZM39.2038 22.8095C39.2038 23.7937 39.7013 24.4921 40.6963 24.9048C41.6913 25.2857 43.3924 25.4762 45.7997 25.4762C48.2069 25.4762 49.9081 25.2857 50.903 24.9048C51.898 24.4921 52.3955 23.7937 52.3955 22.8095C52.3955 21.8571 51.898 21.1905 50.903 20.8095C49.9081 20.4286 48.2069 20.2381 45.7997 20.2381C43.3924 20.2381 41.6913 20.4286 40.6963 20.8095C39.7013 21.1905 39.2038 21.8571 39.2038 22.8095Z"
                fill="#FEF5E7"
              />
              <Path
                d="M77.0867 36.1905C75.3214 36.1905 73.845 35.6508 72.6574 34.5714C71.5019 33.4921 70.7637 32.0952 70.4427 30.381H69.5761V41.3333C69.5761 42.6349 69.207 43.7302 68.4688 44.619C67.7306 45.5397 66.6072 46 65.0986 46C63.6543 46 62.5309 45.5397 61.7285 44.619C60.9582 43.7302 60.573 42.6032 60.573 41.2381V23.4286C60.573 21.8413 60.5088 20.5079 60.3804 19.4286C60.2841 18.3175 60.1879 17.3175 60.0916 16.4286C59.9632 15.0952 60.236 13.9683 60.91 13.0476C61.5841 12.0952 62.6753 11.5238 64.1839 11.3333C66.1418 11.0794 67.5219 11.4286 68.3243 12.381C69.1589 13.3016 69.5761 14.746 69.5761 16.7143V19L69.7687 19.0476C69.9292 17.8095 70.2983 16.6032 70.876 15.4286C71.4859 14.2222 72.3364 13.2381 73.4277 12.4762C74.519 11.6825 75.8991 11.2857 77.5682 11.2857C80.3606 11.2857 82.4308 12.3968 83.7788 14.619C85.159 16.8095 85.8491 19.746 85.8491 23.4286C85.8491 31.9365 82.9283 36.1905 77.0867 36.1905ZM69.3835 23.3333C69.3835 23.8413 69.4477 24.2381 69.5761 24.5238C69.7687 25.127 70.1699 25.5714 70.7797 25.8571C71.4217 26.1111 72.3685 26.2381 73.6203 26.2381C75.2251 26.2381 76.3164 26 76.8941 25.5238C77.504 25.0476 77.8089 24.3175 77.8089 23.3333C77.8089 22.3175 77.52 21.5873 76.9423 21.1429C76.3645 20.6667 75.2733 20.4286 73.6684 20.4286C72.3846 20.4286 71.4217 20.5714 70.7797 20.8571C70.1699 21.1111 69.7687 21.5397 69.5761 22.1429C69.4477 22.4286 69.3835 22.8254 69.3835 23.3333Z"
                fill="#FEF5E7"
              />
              <Path
                d="M100.386 36.8095C98.1712 36.8095 96.117 36.6032 94.2233 36.1905C92.3617 35.746 90.8692 35.0635 89.7458 34.1429C88.6224 33.1905 88.0607 31.9365 88.0607 30.381C88.0607 29.0159 88.478 27.8889 89.3125 27C90.147 26.1111 91.2543 25.6667 92.6345 25.6667C93.5011 25.6667 94.3677 25.8095 95.2343 26.0952C96.133 26.3492 97.0799 26.6032 98.0749 26.8571C99.0699 27.1111 100.145 27.2381 101.301 27.2381C102.328 27.2381 103.018 27.1905 103.371 27.0952C103.724 26.9683 103.9 26.746 103.9 26.4286C103.9 26.0476 103.676 25.7937 103.226 25.6667C102.809 25.5397 102.087 25.381 101.06 25.1905L97.5934 24.5238C96.1491 24.2381 94.7368 23.873 93.3567 23.4286C92.0086 22.9524 90.8852 22.254 89.9865 21.3333C89.1199 20.4127 88.6866 19.1587 88.6866 17.5714C88.6866 15.4127 89.6495 13.7302 91.5753 12.5238C93.5332 11.3175 96.3577 10.7143 100.049 10.7143C102.167 10.7143 104.061 10.9206 105.73 11.3333C107.431 11.746 108.779 12.3651 109.774 13.1905C110.769 13.9841 111.267 14.9841 111.267 16.1905C111.299 17.4921 110.946 18.5397 110.207 19.3333C109.469 20.127 108.538 20.5238 107.415 20.5238C106.613 20.5238 105.794 20.4286 104.96 20.2381C104.157 20.0159 103.275 19.7937 102.312 19.5714C101.381 19.3175 100.306 19.1746 99.0859 19.1429C98.2193 19.0794 97.5132 19.127 96.9675 19.2857C96.4219 19.4444 96.1491 19.6984 96.1491 20.0476C96.1491 20.4286 96.47 20.6984 97.112 20.8571C97.7539 20.9841 98.7168 21.1587 100.001 21.381L103.419 22C105.505 22.3492 107.158 22.7937 108.378 23.3333C109.63 23.8413 110.528 24.5556 111.074 25.4762C111.62 26.3968 111.892 27.6667 111.892 29.2857C111.892 30.9683 111.395 32.381 110.4 33.5238C109.437 34.6349 108.089 35.4603 106.356 36C104.623 36.5397 102.633 36.8095 100.386 36.8095Z"
                fill="#FEF5E7"
              />
              <Path
                d="M116.805 6.57143C116.773 5.42857 116.966 4.36508 117.383 3.38095C117.832 2.36508 118.554 1.55556 119.549 0.952383C120.544 0.317461 121.828 0 123.401 0C125.006 0 126.29 0.317461 127.253 0.952383C128.248 1.55556 128.954 2.36508 129.371 3.38095C129.82 4.36508 130.029 5.42857 129.997 6.57143C129.965 7.61905 129.804 8.60318 129.515 9.52381C129.226 10.4444 128.889 11.3968 128.504 12.381C128.119 13.3333 127.766 14.3968 127.445 15.5714C127.124 16.7143 126.916 18.0317 126.819 19.5238C126.723 20.7619 126.37 21.6825 125.76 22.2857C125.15 22.8571 124.364 23.1429 123.401 23.1429C122.406 23.1429 121.604 22.8571 120.994 22.2857C120.384 21.7143 120.047 20.7937 119.983 19.5238C119.886 18.0317 119.678 16.7143 119.357 15.5714C119.036 14.3968 118.683 13.3333 118.298 12.381C117.912 11.3968 117.575 10.4444 117.287 9.52381C116.998 8.60318 116.837 7.61905 116.805 6.57143ZM123.401 37.0952C121.507 37.0952 120.031 36.6032 118.972 35.619C117.912 34.6032 117.383 33.2698 117.383 31.619C117.383 29.9365 117.912 28.5714 118.972 27.5238C120.063 26.4762 121.539 25.9524 123.401 25.9524C125.198 25.9524 126.627 26.4762 127.686 27.5238C128.745 28.5397 129.275 29.8889 129.275 31.5714C129.275 33.2222 128.761 34.5556 127.734 35.5714C126.707 36.5873 125.263 37.0952 123.401 37.0952Z"
                fill="#FEF5E7"
              />
            </Svg>
          </View>
        )}
      </ScrollView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#659DF2",
  },
  header: {
    paddingTop: 74,
    paddingLeft: 27,
    paddingRight: 27,
    paddingBottom: 20,
    flexDirection: "row",
    alignItems: "center",
  },
  backButton: {
    width: 9,
    height: 17,
    marginRight: 22,
  },
  searchBox: {
    width: 282,
    height: 47,
    flexShrink: 0,
    borderRadius: 10,
    backgroundColor: "#FFFFFF",
    paddingVertical: 15,
    paddingHorizontal: 15,
    flexDirection: "row",
    alignItems: "center",
  },
  searchIcon: {
    marginRight: 9,
  },
  searchInput: {
    flex: 1,
    fontSize: 14,
    fontWeight: "400",
    lineHeight: 20,
    letterSpacing: -0.16,
    color: "#34495E",
    fontFamily: "Pretendard",
  },
  filterRow: {
    flexDirection: "row",
    alignItems: "center",
    paddingLeft: 11,
    paddingRight: 0,
    marginTop: 10,
  },
  iconButton: {
    width: 24,
    height: 24,
    justifyContent: "center",
    alignItems: "center",
  },
  categoriesScroll: {
    marginLeft: 14,
    flex: 1,
  },
  categoriesContent: {
    gap: 8,
    paddingRight: 27,
  },
  categoryActive: {
    paddingVertical: 7,
    paddingHorizontal: 10,
    borderRadius: 42,
    backgroundColor: "#FF7F50",
    justifyContent: "center",
    alignItems: "center",
  },
  categoryActiveText: {
    color: "#FFF",
    fontFamily: "Pretendard",
    fontSize: 13,
    fontWeight: "700",
    lineHeight: 16,
    letterSpacing: -0.12,
  },
  category: {
    paddingVertical: 7,
    paddingHorizontal: 10,
    justifyContent: "center",
    alignItems: "center",
    borderRadius: 42,
    borderWidth: 1,
    borderColor: "#FFF",
    backgroundColor: "#FFF",
  },
  categoryText: {
    color: "#659DF2",
    fontFamily: "Pretendard",
    fontSize: 13,
    fontWeight: "700",
    lineHeight: 16,
    letterSpacing: -0.12,
  },
  categoryWithIcon: {
    paddingVertical: 7,
    paddingHorizontal: 10,
    justifyContent: "center",
    alignItems: "center",
    flexDirection: "row",
    gap: 10,
    borderRadius: 42,
    backgroundColor: "#FFF",
  },
  categoryIconText: {
    color: "#659DF2",
    fontFamily: "Pretendard",
    fontSize: 13,
    fontWeight: "700",
    lineHeight: 16,
    letterSpacing: -0.12,
  },
  content: {
    flex: 1,
    paddingHorizontal: 20,
    paddingTop: 10,
  },
  recommendationCard: {
    flexDirection: "row",
    padding: 20,
    alignItems: "center",
    gap: 20,
    borderRadius: 10,
    borderWidth: 1,
    borderColor: "#FEF5E7",
    backgroundColor: "#FEF5E7",
    shadowColor: "#000",
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.25,
    shadowRadius: 4,
    elevation: 4,
    marginTop: 20,
    marginBottom: 10,
  },
  cardImagesContainer: {
    position: "relative",
    width: 65,
    height: 66,
  },
  rionImage: {
    width: 65,
    height: 66,
    transform: [{ rotate: "-15deg" }],
    position: "absolute",
    top: -15,
    left: 0,
  },
  mapIconImage: {
    width: 40,
    height: 40,
    transform: [{ rotate: "15deg" }],
    position: "absolute",
    bottom: -20,
    right: -15,
  },
  cardTextContainer: {
    flex: 1,
    flexDirection: "column",
    alignItems: "flex-start",
    gap: 10,
  },
  cardTitle: {
    color: "#4A90E2",
    fontFamily: "Inter",
    fontSize: 16,
    fontWeight: "700",
    lineHeight: 22,
    letterSpacing: -0.18,
    textAlign: "left",
  },
  cardDescription: {
    color: "#4A90E2",
    fontFamily: "Pretendard",
    fontSize: 14,
    fontWeight: "400",
    lineHeight: 20,
    letterSpacing: -0.16,
    textAlign: "left",
  },
  tryItButtonContainer: {
    marginBottom: 54,
    shadowColor: "#000",
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.25,
    shadowRadius: 4,
    elevation: 4,
    borderRadius: 10,
  },
  tryItButton: {
    height: 47,
    flexShrink: 0,
    borderRadius: 10,
    flexDirection: "row",
    alignItems: "center",
  },
  tryItIcon: {
    marginLeft: 13,
  },
  tryItText: {
    color: "#FFF",
    fontFamily: "Inter",
    fontSize: 14,
    fontWeight: "400",
    marginLeft: 8,
    flex: 1,
  },
  tryItArrow: {
    marginRight: 17,
  },
  aiDocentCard: {
    padding: 20,
    alignItems: "center",
    gap: 20,
    borderRadius: 10,
    borderWidth: 1,
    borderColor: "#FEF5E7",
    backgroundColor: "#FEF5E7",
    flexDirection: "row",
    shadowColor: "#000",
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.25,
    shadowRadius: 4,
    elevation: 4,
    marginBottom: 10,
  },
  aiDocentIconContainer: {
    padding: 20,
    alignItems: "center",
    gap: 10,
    flex: 1,
    borderRadius: 10,
    backgroundColor: "#FFF",
  },
  aiDocentTextContainer: {
    width: 161.865,
    flexDirection: "column",
    alignItems: "flex-start",
    gap: 10,
    flexShrink: 0,
  },
  aiDocentTitle: {
    color: "#4A90E2",
    fontFamily: "Inter",
    fontSize: 16,
    fontWeight: "700",
    lineHeight: 22,
    letterSpacing: -0.18,
    textAlign: "left",
  },
  aiDocentDescription: {
    color: "#4A90E2",
    fontFamily: "Pretendard",
    fontSize: 14,
    fontWeight: "400",
    lineHeight: 20,
    letterSpacing: -0.16,
    textAlign: "left",
  },
  askAiButtonContainer: {
    marginBottom: 20,
    shadowColor: "#000",
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.25,
    shadowRadius: 4,
    elevation: 4,
    borderRadius: 10,
  },
  askAiButton: {
    height: 47,
    flexShrink: 0,
    borderRadius: 10,
    backgroundColor: "#8FB6F1",
    flexDirection: "row",
    alignItems: "center",
    paddingHorizontal: 13,
  },
  askAiArrow: {
    marginRight: 2,
  },
  emptyState: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    paddingVertical: 60,
  },
  emptyText: {
    fontSize: 16,
    color: "#999",
    textAlign: "center",
  },
  resultsContainer: {
    gap: 16,
  },
  resultsTitle: {
    fontSize: 18,
    fontWeight: "bold",
    color: "#FFF",
    marginBottom: 12,
  },
  noResults: {
    fontSize: 14,
    color: "#999",
    textAlign: "center",
    paddingVertical: 40,
  },
  noResultsContainer: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    paddingTop: 100,
  },
  docentFaceImage: {
    width: 108,
    height: 94,
    aspectRatio: 54 / 47,
    marginBottom: 20,
  },
  oopsText: {
    zIndex: 1,
  },
  noResultsTextContainer: {
    marginTop: 10,
  },
  noResultsText: {
    lineHeight: 20,
    letterSpacing: -0.16,
  },
  noResultsRegular: {
    fontFamily: "Pretendard",
    fontSize: 14,
    fontWeight: "400",
    color: "#FEF5E7",
  },
  noResultsBold: {
    fontFamily: "Inter",
    fontSize: 14,
    fontWeight: "700",
    color: "#FEF5E7",
  },
  loadingContainer: {
    paddingVertical: 40,
    justifyContent: "center",
    alignItems: "center",
  },
  filterButtonContainer: {
    padding: 15,
    alignItems: "center",
  },
  filterResultButton: {
    backgroundColor: "#FF7F50",
    borderRadius: 25,
    paddingVertical: 12,
    paddingHorizontal: 30,
    flexDirection: "row",
    alignItems: "center",
    gap: 10,
  },
  filterResultNumber: {
    color: "#FFF",
    fontFamily: "Inter",
    fontSize: 20,
    fontWeight: "700",
  },
  filterResultText: {
    color: "#FFF",
    fontFamily: "Inter",
    fontSize: 16,
    fontWeight: "700",
  },
  resultsGrid: {
    flexDirection: "row",
    flexWrap: "wrap",
    paddingHorizontal: 10,
    gap: 10,
    justifyContent: "space-between",
  },
  cardWrapper: {
    width: "48%",
    marginBottom: 10,
  },
  placeImageContainer: {
    width: "100%",
    aspectRatio: 1,
    backgroundColor: "#ccc",
    borderRadius: 10,
    position: "relative",
  },
  placeImage: {
    width: "100%",
    height: "100%",
    borderRadius: 10,
  },
  placeCategoryText: {
    position: "absolute",
    top: 10,
    left: 10,
    color: "#FFF",
    fontFamily: "Inter",
    fontSize: 14,
    fontWeight: "600",
  },
  plusButton: {
    position: "absolute",
    top: 5,
    right: 5,
    width: 38,
    height: 38,
    padding: 11,
    borderRadius: 10,
    backgroundColor: "rgba(255, 127, 80, 0.85)",
    justifyContent: "center",
    alignItems: "center",
  },
  distanceBadge: {
    position: "absolute",
    bottom: 5,
    left: 5,
    height: 16,
    paddingHorizontal: 5,
    flexDirection: "row",
    alignItems: "center",
    gap: 5,
    flexShrink: 0,
    borderRadius: 14,
    backgroundColor: "rgba(52, 73, 94, 0.50)",
  },
  distanceText: {
    color: "#FFF",
    fontFamily: "Pretendard",
    fontSize: 12,
    fontWeight: "600",
    lineHeight: 16,
    letterSpacing: -0.12,
  },
  mintBadge: {
    position: "absolute",
    bottom: 5,
    right: 5,
    height: 16,
    paddingHorizontal: 5,
    flexDirection: "row",
    alignItems: "center",
    gap: 5,
    flexShrink: 0,
    borderRadius: 14,
  },
  mintIcon: {
    width: 16,
    height: 10,
    aspectRatio: 8 / 5,
  },
  mintText: {
    color: "#FFF",
    textAlign: "right",
    fontFamily: "Pretendard",
    fontSize: 12,
    fontWeight: "600",
    lineHeight: 16,
    letterSpacing: -0.12,
  },
  placeInfoBottom: {
    width: "100%",
    flexDirection: "column",
    alignItems: "flex-start",
    gap: 5,
    marginTop: 8,
  },
  placeNameText: {
    color: "#FFF",
    fontFamily: "Inter",
    fontSize: 16,
    fontWeight: "700",
    lineHeight: 22,
    letterSpacing: -0.18,
    textAlign: "left",
  },
  placeLocationText: {
    color: "#FFF",
    fontFamily: "Pretendard",
    fontSize: 12,
    fontWeight: "400",
    lineHeight: 16,
    letterSpacing: -0.12,
    textAlign: "left",
  },
});
