import { useLocalSearchParams, useRouter } from "expo-router";
import { Image, Pressable, ScrollView, StyleSheet, View } from "react-native";

import { ThemedText } from "@/components/themed-text";
import { ThemedView } from "@/components/themed-view";
import { Images } from "@/constants/images";
import { useQuestStore } from "@/store/useQuestStore";
import Svg, { Path, ClipPath, Defs, G, Rect, Mask } from "react-native-svg";
import { LinearGradient } from "expo-linear-gradient";

export default function QuizResultScreen() {
  const router = useRouter();
  const { activeQuest } = useQuestStore();

  const params = useLocalSearchParams<{
    score?: string;
    detail?: string;
    quizCount?: string;
    isQuestMode?: string;
    questName?: string;
    questCompleted?: string;
    rewardPoint?: string;
    alreadyCompleted?: string;
  }>();

  const score = params.score ? parseInt(params.score) : 0;
  const detailList: number[] = params.detail ? JSON.parse(params.detail) : [];
  const quizCount = params.quizCount ? parseInt(params.quizCount) : detailList.length;
  const isQuestMode = params.isQuestMode === "true";
  const questCompleted = params.questCompleted === "true";
  const rewardPoint = params.rewardPoint ? parseInt(params.rewardPoint) : 0;
  const questName = params.questName || "Quest of Seoul";
  const alreadyCompleted = params.alreadyCompleted === "true";

  const placeImageUrl =
    activeQuest?.quest.place_image_url || Images.quizThumbnail;

  const handleDiscoverMore = () => {
    // 일단 맵으로 돌아가서 퀘스트를 더 탐색하는 흐름
    router.replace("/(tabs)/map");
  };

  const handleNextQuest = () => {
    // 다음 퀘스트 선택을 위해 맵 탭으로 이동
    router.replace("/(tabs)/map");
  };

  return (
    <LinearGradient
      colors={["#222D39", "#34495E"]}
      locations={[0, 1]}
      style={styles.background}
    >
      <ScrollView
        contentContainerStyle={styles.container}
        showsVerticalScrollIndicator={false}
      >
        {/* Header */}
        <View style={styles.header}>
          <View style={styles.headerLeft}>
            <Svg width="17" height="17" viewBox="0 0 17 17" fill="none">
              <Path d="M10 10.8333C10.2361 10.8333 10.4411 10.7467 10.615 10.5733C10.7889 10.4 10.8756 10.195 10.875 9.95833C10.8744 9.72167 10.7878 9.51694 10.615 9.34417C10.4422 9.17139 10.2372 9.08444 10 9.08333C9.76278 9.08222 9.55805 9.16917 9.38583 9.34417C9.21361 9.51917 9.12667 9.72389 9.125 9.95833C9.12333 10.1928 9.21028 10.3978 9.38583 10.5733C9.56139 10.7489 9.76611 10.8356 10 10.8333ZM10 8.16667C10.1528 8.16667 10.2953 8.11111 10.4275 8C10.5597 7.88889 10.6394 7.74306 10.6667 7.5625C10.6944 7.39583 10.7533 7.24305 10.8433 7.10417C10.9333 6.96528 11.0967 6.77778 11.3333 6.54167C11.75 6.125 12.0278 5.78806 12.1667 5.53083C12.3056 5.27361 12.375 4.97167 12.375 4.625C12.375 4 12.1561 3.48944 11.7183 3.09333C11.2806 2.69722 10.7078 2.49944 10 2.5C9.54167 2.5 9.125 2.60417 8.75 2.8125C8.375 3.02083 8.07639 3.31944 7.85417 3.70833C7.77083 3.84722 7.76389 3.99306 7.83333 4.14583C7.90278 4.29861 8.02083 4.40972 8.1875 4.47917C8.34028 4.54861 8.48972 4.55556 8.63583 4.5C8.78194 4.44444 8.90333 4.34722 9 4.20833C9.125 4.02778 9.27083 3.8925 9.4375 3.8025C9.60417 3.7125 9.79167 3.66722 10 3.66667C10.3333 3.66667 10.6042 3.76056 10.8125 3.94833C11.0208 4.13611 11.125 4.38944 11.125 4.70833C11.125 4.90278 11.0694 5.08694 10.9583 5.26083C10.8472 5.43472 10.6528 5.65333 10.375 5.91667C9.97222 6.26389 9.71528 6.53139 9.60417 6.71917C9.49306 6.90694 9.42361 7.18111 9.39583 7.54167C9.38194 7.70833 9.43417 7.85417 9.5525 7.97917C9.67083 8.10417 9.82 8.16667 10 8.16667ZM5 13.3333C4.54167 13.3333 4.14944 13.1703 3.82333 12.8442C3.49722 12.5181 3.33389 12.1256 3.33333 11.6667V1.66667C3.33333 1.20833 3.49667 0.816111 3.82333 0.49C4.15 0.163889 4.54222 0.000555556 5 0H15C15.4583 0 15.8508 0.163333 16.1775 0.49C16.5042 0.816667 16.6672 1.20889 16.6667 1.66667V11.6667C16.6667 12.125 16.5036 12.5175 16.1775 12.8442C15.8514 13.1708 15.4589 13.3339 15 13.3333H5ZM1.66667 16.6667C1.20833 16.6667 0.816111 16.5036 0.49 16.1775C0.163889 15.8514 0.000555556 15.4589 0 15V4.16667C0 3.93056 0.0800001 3.73278 0.24 3.57333C0.4 3.41389 0.597778 3.33389 0.833333 3.33333C1.06889 3.33278 1.26694 3.41278 1.4275 3.57333C1.58806 3.73389 1.66778 3.93167 1.66667 4.16667V15H12.5C12.7361 15 12.9342 15.08 13.0942 15.24C13.2542 15.4 13.3339 15.5978 13.3333 15.8333C13.3328 16.0689 13.2528 16.2669 13.0933 16.4275C12.9339 16.5881 12.7361 16.6678 12.5 16.6667H1.66667Z" fill="white"/>
            </Svg>
            <ThemedText style={styles.headerTitle}>{questName}</ThemedText>
          </View>
          <View style={styles.headerRight}>
            <Pressable>
              <Svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <Path d="M12 15.575C11.8667 15.575 11.7417 15.5543 11.625 15.513C11.5083 15.4717 11.4 15.4007 11.3 15.3L7.7 11.7C7.5 11.5 7.404 11.2667 7.412 11C7.42 10.7333 7.516 10.5 7.7 10.3C7.9 10.1 8.13767 9.996 8.413 9.988C8.68833 9.98 8.92567 10.0757 9.125 10.275L11 12.15V5C11 4.71667 11.096 4.47934 11.288 4.288C11.48 4.09667 11.7173 4.00067 12 4C12.2827 3.99934 12.5203 4.09534 12.713 4.288C12.9057 4.48067 13.0013 4.718 13 5V12.15L14.875 10.275C15.075 10.075 15.3127 9.979 15.588 9.987C15.8633 9.995 16.1007 10.0993 16.3 10.3C16.4833 10.5 16.5793 10.7333 16.588 11C16.5967 11.2667 16.5007 11.5 16.3 11.7L12.7 15.3C12.6 15.4 12.4917 15.471 12.375 15.513C12.2583 15.555 12.1333 15.5757 12 15.575ZM6 20C5.45 20 4.97933 19.8043 4.588 19.413C4.19667 19.0217 4.00067 18.5507 4 18V16C4 15.7167 4.096 15.4793 4.288 15.288C4.48 15.0967 4.71733 15.0007 5 15C5.28267 14.9993 5.52033 15.0953 5.713 15.288C5.90567 15.4807 6.00133 15.718 6 16V18H18V16C18 15.7167 18.096 15.4793 18.288 15.288C18.48 15.0967 18.7173 15.0007 19 15C19.2827 14.9993 19.5203 15.0953 19.713 15.288C19.9057 15.4807 20.0013 15.718 20 16V18C20 18.55 19.8043 19.021 19.413 19.413C19.0217 19.805 18.5507 20.0007 18 20H6Z" fill="white"/>
              </Svg>
            </Pressable>
            <Pressable onPress={() => router.back()}>
              <Svg width="15" height="15" viewBox="0 0 15 15" fill="none">
                <G clipPath="url(#clip0_6_40187)">
                  <Path fillRule="evenodd" clipRule="evenodd" d="M1.82891 0.313458C1.62684 0.118289 1.35619 0.0102947 1.07527 0.0127358C0.794342 0.015177 0.525614 0.127858 0.326962 0.32651C0.128311 0.525161 0.0156299 0.793889 0.0131887 1.07481C0.0107476 1.35574 0.118742 1.62638 0.313911 1.82846L5.98498 7.49953L0.313911 13.1706C0.211579 13.2694 0.129955 13.3877 0.0738023 13.5184C0.0176498 13.6491 -0.0119069 13.7897 -0.0131431 13.932C-0.0143794 14.0742 0.0127296 14.2153 0.066602 14.347C0.120474 14.4787 0.200031 14.5983 0.300631 14.6989C0.40123 14.7995 0.520857 14.879 0.652532 14.9329C0.784206 14.9868 0.925291 15.0139 1.06756 15.0127C1.20982 15.0114 1.35041 14.9819 1.48113 14.9257C1.61185 14.8696 1.73008 14.7879 1.82891 14.6856L7.49998 9.01453L13.1711 14.6856C13.3731 14.8808 13.6438 14.9888 13.9247 14.9863C14.2056 14.9839 14.4743 14.8712 14.673 14.6726C14.8717 14.4739 14.9843 14.2052 14.9868 13.9242C14.9892 13.6433 14.8812 13.3727 14.6861 13.1706L9.01498 7.49953L14.6861 1.82846C14.8812 1.62638 14.9892 1.35574 14.9868 1.07481C14.9843 0.793889 14.8717 0.525161 14.673 0.32651C14.4743 0.127858 14.2056 0.015177 13.9247 0.0127358C13.6438 0.0102947 13.3731 0.118289 13.1711 0.313458L7.49998 5.98453L1.82891 0.313458Z" fill="white"/>
                </G>
                <Defs>
                  <ClipPath id="clip0_6_40187">
                    <Rect width="15" height="15" fill="white"/>
                  </ClipPath>
                </Defs>
              </Svg>
            </Pressable>
          </View>
        </View>

        {/* Place Image Section */}
        <View style={styles.placeImageContainer}>
          <Image
            source={
              typeof placeImageUrl === "string"
                ? { uri: placeImageUrl }
                : placeImageUrl
            }
            style={styles.placeImage}
            resizeMode="cover"
          />
          <ThemedText style={styles.placeNameOverlay}>{questName}</ThemedText>
          <Image
            source={require("@/assets/images/logoqos.png")}
            style={styles.logoQos}
            resizeMode="contain"
          />
        </View>

        {/* White Card Below Image */}
        <View style={styles.whiteCardBelowImage}>
          <ThemedText style={styles.discoveredText}>
            {alreadyCompleted
              ? "Discovered Seoul once more!"
              : "You've discovered this place!"}
          </ThemedText>

          {/* Quiz Results Row */}
          <View style={styles.quizResultsRow}>
            {detailList.map((value, index) => (
              <View key={index} style={styles.quizResultItem}>
                {/* Mint Badge Above Bar */}
                <View style={styles.mintBadgeAboveBar}>
                  <Svg width="13" height="8" viewBox="0 0 13 8" fill="none">
                    <Path d="M13 4.01234V4.2707C13 4.63629 12.7895 4.94705 12.4648 5.15666C12.8671 5.47107 13.0823 5.93659 12.96 6.37531L12.8883 6.61904C12.6907 7.31976 11.712 7.58787 10.8887 7.16865L10.1406 6.78965C9.9279 6.68324 9.74007 6.53022 9.5901 6.34118C9.46947 6.51509 9.3349 6.67816 9.18782 6.82864C8.79662 7.23454 8.3256 7.54833 7.80681 7.74864C7.28802 7.94896 6.73366 8.0311 6.18148 7.98947C5.62929 7.94784 5.09225 7.7834 4.60692 7.50738C4.12158 7.23136 3.69936 6.85023 3.369 6.38993C3.22607 6.5549 3.05348 6.68943 2.86087 6.78599L2.11279 7.16499C1.28943 7.58421 0.315504 7.3161 0.113192 6.61538L0.041429 6.37165C-0.0761944 5.93781 0.134361 5.47229 0.536633 5.153C0.211993 4.94339 0.00144104 4.62898 0.00144104 4.26704V4.01234C0.00662526 3.83973 0.0534857 3.67121 0.13773 3.52219C0.221975 3.37317 0.340914 3.2484 0.483694 3.15929C0.130824 2.87412 -0.0703029 2.45857 0.0226196 2.05032L0.0790765 1.79927C0.235516 1.11439 1.13768 0.781702 1.96928 1.10464L2.7456 1.40809C2.94094 1.48295 3.12149 1.59403 3.27843 1.7359C3.63475 1.19668 4.11346 0.756388 4.67248 0.453725C5.23149 0.151063 5.8537 -0.0047055 6.48442 0.000108273C7.11515 0.00492205 7.73507 0.170173 8.28972 0.481336C8.84437 0.792498 9.31677 1.24004 9.66538 1.78465C9.8338 1.61783 10.0342 1.48954 10.2535 1.40809L11.0286 1.10464C11.8614 0.781702 12.7624 1.11439 12.9188 1.79927L12.9753 2.05032C13.0682 2.45857 12.8706 2.87412 12.5142 3.15929C12.6577 3.24796 12.7773 3.37255 12.8622 3.5216C12.9471 3.67064 12.9944 3.83938 13 4.01234Z" fill={value > 0 ? "#76C7AD" : "#FF7F50"}/>
                  </Svg>
                  <ThemedText style={[styles.mintValueAboveBar, value > 0 ? styles.mintValueCorrect : styles.mintValueWrong]}>
                    {value}
                  </ThemedText>
                </View>

                {/* Progress Bar */}
                <View style={[styles.progressBar, value > 0 ? styles.progressBarCorrect : styles.progressBarWrong]} />

                {/* Check/Cross Icon */}
                {value > 0 ? (
                  <Svg width="19" height="19" viewBox="0 0 19 19" fill="none">
                    <Path fillRule="evenodd" clipRule="evenodd" d="M9.375 18.75C10.6061 18.75 11.8252 18.5075 12.9627 18.0364C14.1001 17.5652 15.1336 16.8747 16.0041 16.0041C16.8747 15.1336 17.5652 14.1001 18.0364 12.9627C18.5075 11.8252 18.75 10.6061 18.75 9.375C18.75 8.14386 18.5075 6.92477 18.0364 5.78734C17.5652 4.64992 16.8747 3.61642 16.0041 2.74587C15.1336 1.87532 14.1001 1.18477 12.9627 0.713629C11.8252 0.242491 10.6061 -1.83455e-08 9.375 0C6.8886 3.70503e-08 4.50403 0.98772 2.74587 2.74587C0.98772 4.50403 0 6.8886 0 9.375C0 11.8614 0.98772 14.246 2.74587 16.0041C4.50403 17.7623 6.8886 18.75 9.375 18.75ZM9.13333 13.1667L14.3417 6.91667L12.7417 5.58333L8.2625 10.9573L5.94479 8.63854L4.47188 10.1115L7.59687 13.2365L8.40312 14.0427L9.13333 13.1667Z" fill="#76C7AD"/>
                  </Svg>
                ) : (
                  <Svg width="19" height="19" viewBox="0 0 19 19" fill="none">
                    <Path d="M9.375 0C4.19648 0 0 4.19766 0 9.375C0 14.5523 4.19648 18.75 9.375 18.75C14.5535 18.75 18.75 14.5523 18.75 9.375C18.75 4.19766 14.5535 0 9.375 0ZM13.7191 12.0621C13.9389 12.2818 14.0623 12.5799 14.0623 12.8906C14.0623 13.2014 13.9389 13.4994 13.7191 13.7191C13.4994 13.9389 13.2014 14.0623 12.8906 14.0623C12.5799 14.0623 12.2818 13.9389 12.0621 13.7191L9.375 11.032L6.68789 13.7191C6.57931 13.8283 6.45022 13.915 6.30803 13.9741C6.16584 14.0333 6.01337 14.0637 5.85938 14.0637C5.70538 14.0637 5.55291 14.0333 5.41072 13.9741C5.26853 13.915 5.13944 13.8283 5.03086 13.7191C4.81117 13.4994 4.68775 13.2014 4.68775 12.8906C4.68775 12.5799 4.81117 12.2819 5.03086 12.0621L7.71797 9.375L5.03086 6.68789C4.81112 6.46815 4.68768 6.17013 4.68768 5.85938C4.68768 5.54862 4.81112 5.2506 5.03086 5.03086C5.2506 4.81112 5.54862 4.68768 5.85938 4.68768C6.17013 4.68768 6.46815 4.81112 6.68789 5.03086L9.375 7.71797L12.0621 5.03086C12.2818 4.81112 12.5799 4.68768 12.8906 4.68768C13.2014 4.68768 13.4994 4.81112 13.7191 5.03086C13.9389 5.2506 14.0623 5.54862 14.0623 5.85938C14.0623 6.17013 13.9389 6.46815 13.7191 6.68789L11.032 9.375L13.7191 12.0621Z" fill="#FF7F50"/>
                  </Svg>
                )}
              </View>
            ))}
          </View>
        </View>

        {/* 하단 액션 버튼들 */}
        <View style={styles.actions}>
          <Pressable style={styles.primaryBtn} onPress={handleDiscoverMore}>
            <Svg width="30" height="30" viewBox="0 0 30 30" fill="none">
              <Mask id="path-1-inside-1_6_40182" fill="white">
                <Path d="M15 0C23.2843 5.66946e-06 30 6.71574 30 15C30 23.2843 23.2843 30 15 30C6.71574 30 7.21615e-06 23.2843 0 15C0 6.71574 6.71574 0 15 0ZM19.9102 15.3232C19.7861 15.3226 19.6653 15.3656 19.5693 15.4443C19.4735 15.523 19.4083 15.6331 19.3848 15.7549C19.176 16.3946 18.9399 17.0072 18.7109 17.6807C18.6921 17.7408 18.6588 17.7963 18.6143 17.8408C18.5697 17.8852 18.5151 17.9187 18.4551 17.9375L16.4951 18.6445C16.3813 18.6747 16.2808 18.7419 16.21 18.8359C16.1391 18.93 16.1021 19.0454 16.1045 19.1631C16.0976 19.2797 16.1316 19.3948 16.2002 19.4893C16.2689 19.5838 16.3684 19.6522 16.4814 19.6816L18.4619 20.4023C18.5191 20.4197 18.571 20.4509 18.6133 20.4932C18.6555 20.5354 18.6867 20.5874 18.7041 20.6445C18.9062 21.2844 19.1422 21.8977 19.3779 22.5713C19.4042 22.6948 19.4723 22.8061 19.5703 22.8857C19.6683 22.9652 19.7908 23.0085 19.917 23.0088C20.0396 23.0085 20.1585 22.9666 20.2539 22.8896C20.3493 22.8126 20.4162 22.7048 20.4424 22.585C20.6512 21.9384 20.8872 21.3249 21.1162 20.6514C21.1338 20.5914 21.1662 20.5368 21.2109 20.4932C21.2558 20.4495 21.3116 20.4183 21.3721 20.4023L23.3447 19.6816C23.4554 19.6503 23.5528 19.5828 23.6211 19.4902C23.6893 19.3976 23.7255 19.2849 23.7227 19.1699C23.7292 19.0597 23.6994 18.9497 23.6387 18.8574C23.578 18.7654 23.4893 18.6958 23.3857 18.6582C22.7123 18.4158 22.0387 18.1664 21.3652 17.9307C21.3065 17.9163 21.2527 17.8855 21.21 17.8428C21.1672 17.8 21.1364 17.7462 21.1221 17.6875C20.9201 17.0478 20.6849 16.435 20.4492 15.7617C20.423 15.6381 20.3549 15.5269 20.2568 15.4473C20.1588 15.3676 20.0364 15.3236 19.9102 15.3232ZM11.4775 6.40527C11.2628 6.40798 11.055 6.48336 10.8887 6.61914C10.7223 6.75492 10.6072 6.94349 10.5615 7.15332C10.1507 8.27804 9.73915 9.40252 9.3418 10.5205C9.30944 10.6252 9.25226 10.7204 9.1748 10.7979C9.09734 10.8753 9.00212 10.9325 8.89746 10.9648C7.75244 11.369 6.61387 11.7943 5.47559 12.2119C5.27839 12.2624 5.10379 12.3783 4.98145 12.541C4.8591 12.7038 4.79639 12.9039 4.80273 13.1074C4.79094 13.313 4.85143 13.5166 4.97461 13.6816C5.09771 13.8465 5.27531 13.9625 5.47559 14.0098C6.62736 14.4341 7.77313 14.8587 8.93164 15.2695C9.03033 15.2989 9.12053 15.352 9.19336 15.4248C9.26617 15.4976 9.31924 15.5878 9.34863 15.6865C9.75276 16.8181 10.1642 17.9366 10.5684 19.0547C10.6175 19.27 10.7366 19.4633 10.9072 19.6035C11.0778 19.7435 11.2902 19.8226 11.5107 19.8291C11.7261 19.8249 11.9343 19.7482 12.1006 19.6113C12.2666 19.4745 12.3813 19.2855 12.4268 19.0752C12.8376 17.9504 13.2491 16.8319 13.6465 15.707C13.6789 15.6024 13.7361 15.5071 13.8135 15.4297C13.8909 15.3523 13.9862 15.295 14.0908 15.2627C15.2493 14.8586 16.3942 14.4341 17.5459 14.0098C17.7422 13.962 17.9165 13.8481 18.0391 13.6875C18.1615 13.5269 18.2254 13.3288 18.2197 13.127C18.2295 12.9217 18.1663 12.7193 18.042 12.5557C17.9176 12.392 17.7395 12.2771 17.5391 12.2314C16.3852 11.7959 15.224 11.3734 14.0566 10.9648C13.9569 10.9354 13.8659 10.8817 13.793 10.8076C13.7199 10.7334 13.6675 10.6414 13.6396 10.541C13.2355 9.41619 12.8249 8.29095 12.4141 7.17285C12.2255 6.65445 11.9152 6.40533 11.4775 6.40527Z"/>
              </Mask>
              <Path d="M15 0C23.2843 5.66946e-06 30 6.71574 30 15C30 23.2843 23.2843 30 15 30C6.71574 30 7.21615e-06 23.2843 0 15C0 6.71574 6.71574 0 15 0ZM19.9102 15.3232C19.7861 15.3226 19.6653 15.3656 19.5693 15.4443C19.4735 15.523 19.4083 15.6331 19.3848 15.7549C19.176 16.3946 18.9399 17.0072 18.7109 17.6807C18.6921 17.7408 18.6588 17.7963 18.6143 17.8408C18.5697 17.8852 18.5151 17.9187 18.4551 17.9375L16.4951 18.6445C16.3813 18.6747 16.2808 18.7419 16.21 18.8359C16.1391 18.93 16.1021 19.0454 16.1045 19.1631C16.0976 19.2797 16.1316 19.3948 16.2002 19.4893C16.2689 19.5838 16.3684 19.6522 16.4814 19.6816L18.4619 20.4023C18.5191 20.4197 18.571 20.4509 18.6133 20.4932C18.6555 20.5354 18.6867 20.5874 18.7041 20.6445C18.9062 21.2844 19.1422 21.8977 19.3779 22.5713C19.4042 22.6948 19.4723 22.8061 19.5703 22.8857C19.6683 22.9652 19.7908 23.0085 19.917 23.0088C20.0396 23.0085 20.1585 22.9666 20.2539 22.8896C20.3493 22.8126 20.4162 22.7048 20.4424 22.585C20.6512 21.9384 20.8872 21.3249 21.1162 20.6514C21.1338 20.5914 21.1662 20.5368 21.2109 20.4932C21.2558 20.4495 21.3116 20.4183 21.3721 20.4023L23.3447 19.6816C23.4554 19.6503 23.5528 19.5828 23.6211 19.4902C23.6893 19.3976 23.7255 19.2849 23.7227 19.1699C23.7292 19.0597 23.6994 18.9497 23.6387 18.8574C23.578 18.7654 23.4893 18.6958 23.3857 18.6582C22.7123 18.4158 22.0387 18.1664 21.3652 17.9307C21.3065 17.9163 21.2527 17.8855 21.21 17.8428C21.1672 17.8 21.1364 17.7462 21.1221 17.6875C20.9201 17.0478 20.6849 16.435 20.4492 15.7617C20.423 15.6381 20.3549 15.5269 20.2568 15.4473C20.1588 15.3676 20.0364 15.3236 19.9102 15.3232ZM11.4775 6.40527C11.2628 6.40798 11.055 6.48336 10.8887 6.61914C10.7223 6.75492 10.6072 6.94349 10.5615 7.15332C10.1507 8.27804 9.73915 9.40252 9.3418 10.5205C9.30944 10.6252 9.25226 10.7204 9.1748 10.7979C9.09734 10.8753 9.00212 10.9325 8.89746 10.9648C7.75244 11.369 6.61387 11.7943 5.47559 12.2119C5.27839 12.2624 5.10379 12.3783 4.98145 12.541C4.8591 12.7038 4.79639 12.9039 4.80273 13.1074C4.79094 13.313 4.85143 13.5166 4.97461 13.6816C5.09771 13.8465 5.27531 13.9625 5.47559 14.0098C6.62736 14.4341 7.77313 14.8587 8.93164 15.2695C9.03033 15.2989 9.12053 15.352 9.19336 15.4248C9.26617 15.4976 9.31924 15.5878 9.34863 15.6865C9.75276 16.8181 10.1642 17.9366 10.5684 19.0547C10.6175 19.27 10.7366 19.4633 10.9072 19.6035C11.0778 19.7435 11.2902 19.8226 11.5107 19.8291C11.7261 19.8249 11.9343 19.7482 12.1006 19.6113C12.2666 19.4745 12.3813 19.2855 12.4268 19.0752C12.8376 17.9504 13.2491 16.8319 13.6465 15.707C13.6789 15.6024 13.7361 15.5071 13.8135 15.4297C13.8909 15.3523 13.9862 15.295 14.0908 15.2627C15.2493 14.8586 16.3942 14.4341 17.5459 14.0098C17.7422 13.962 17.9165 13.8481 18.0391 13.6875C18.1615 13.5269 18.2254 13.3288 18.2197 13.127C18.2295 12.9217 18.1663 12.7193 18.042 12.5557C17.9176 12.392 17.7395 12.2771 17.5391 12.2314C16.3852 11.7959 15.224 11.3734 14.0566 10.9648C13.9569 10.9354 13.8659 10.8817 13.793 10.8076C13.7199 10.7334 13.6675 10.6414 13.6396 10.541C13.2355 9.41619 12.8249 8.29095 12.4141 7.17285C12.2255 6.65445 11.9152 6.40533 11.4775 6.40527Z" fill="#659DF2"/>
              <Path d="M15 0L15 -1H15V0ZM30 15L31 15V15H30ZM15 30V31H15L15 30ZM0 15H-1V15L0 15ZM19.9102 15.3232L19.9046 16.3232L19.9073 16.3232L19.9102 15.3232ZM19.5693 15.4443L18.935 14.6713L18.9348 14.6714L19.5693 15.4443ZM19.3848 15.7549L20.3354 16.0651L20.3548 16.0059L20.3666 15.9447L19.3848 15.7549ZM18.7109 17.6807L17.7642 17.3588L17.7603 17.3701L17.7567 17.3816L18.7109 17.6807ZM18.6143 17.8408L19.3206 18.5487L19.3214 18.5479L18.6143 17.8408ZM18.4551 17.9375L18.156 16.9833L18.1357 16.9896L18.1157 16.9968L18.4551 17.9375ZM16.4951 18.6445L16.7515 19.6111L16.7935 19.6L16.8344 19.5852L16.4951 18.6445ZM16.21 18.8359L15.4112 18.2343L15.4112 18.2343L16.21 18.8359ZM16.1045 19.1631L17.1028 19.2217L17.1051 19.1821L17.1043 19.1425L16.1045 19.1631ZM16.2002 19.4893L15.391 20.0768L15.3915 20.0774L16.2002 19.4893ZM16.4814 19.6816L16.8234 18.7419L16.7791 18.7258L16.7335 18.7139L16.4814 19.6816ZM18.4619 20.4023L18.1199 21.3421L18.1455 21.3514L18.1716 21.3593L18.4619 20.4023ZM18.6133 20.4932L19.3204 19.7861L19.3201 19.7857L18.6133 20.4932ZM18.7041 20.6445L17.7473 20.9356L17.7505 20.9457L18.7041 20.6445ZM19.3779 22.5713L20.3561 22.3635L20.3429 22.3011L20.3218 22.2409L19.3779 22.5713ZM19.5703 22.8857L18.9397 23.6619L18.9405 23.6625L19.5703 22.8857ZM19.917 23.0088L19.9143 24.0088L19.9195 24.0088L19.917 23.0088ZM20.2539 22.8896L20.8815 23.6682L20.8822 23.6676L20.2539 22.8896ZM20.4424 22.585L19.4908 22.2777L19.4758 22.3241L19.4654 22.3717L20.4424 22.585ZM21.1162 20.6514L22.063 20.9733L22.0697 20.9536L22.0756 20.9336L21.1162 20.6514ZM21.2109 20.4932L20.5135 19.7766L20.5133 19.7767L21.2109 20.4932ZM21.3721 20.4023L21.6279 21.3691L21.6722 21.3573L21.7152 21.3416L21.3721 20.4023ZM23.3447 19.6816L23.0723 18.7195L23.0365 18.7296L23.0016 18.7424L23.3447 19.6816ZM23.6211 19.4902L24.4259 20.0837L24.4261 20.0834L23.6211 19.4902ZM23.7227 19.1699L22.7244 19.1102L22.7219 19.1523L22.723 19.1944L23.7227 19.1699ZM23.6387 18.8574L24.4741 18.3078L24.4736 18.307L23.6387 18.8574ZM23.3857 18.6582L23.7266 17.7181L23.7245 17.7173L23.3857 18.6582ZM21.3652 17.9307L21.6956 16.9868L21.6495 16.9707L21.6021 16.9591L21.3652 17.9307ZM21.21 17.8428L20.5028 18.5499L20.5029 18.5499L21.21 17.8428ZM21.1221 17.6875L22.0936 17.4506L22.0857 17.4182L22.0756 17.3863L21.1221 17.6875ZM20.4492 15.7617L19.4709 15.969L19.4842 16.0317L19.5054 16.0921L20.4492 15.7617ZM20.2568 15.4473L20.8874 14.6712L20.8874 14.6711L20.2568 15.4473ZM11.4775 6.40527L11.4777 5.40519L11.465 5.40535L11.4775 6.40527ZM10.8887 6.61914L10.2564 5.84442L10.2564 5.84443L10.8887 6.61914ZM10.5615 7.15332L11.5008 7.49642L11.5242 7.4325L11.5386 7.36601L10.5615 7.15332ZM9.3418 10.5205L8.39954 10.1856L8.39257 10.2052L8.38642 10.2251L9.3418 10.5205ZM9.1748 10.7979L9.88191 11.505L9.88194 11.5049L9.1748 10.7979ZM8.89746 10.9648L8.60208 10.0095L8.58324 10.0153L8.56464 10.0219L8.89746 10.9648ZM5.47559 12.2119L5.7238 13.1806L5.77265 13.1681L5.82 13.1507L5.47559 12.2119ZM4.98145 12.541L4.18217 11.9401L4.18198 11.9403L4.98145 12.541ZM4.80273 13.1074L5.80109 13.1647L5.80363 13.1205L5.80225 13.0763L4.80273 13.1074ZM4.97461 13.6816L4.17318 14.2797L4.17327 14.2799L4.97461 13.6816ZM5.47559 14.0098L5.82129 13.0714L5.7643 13.0504L5.70518 13.0365L5.47559 14.0098ZM8.93164 15.2695L8.59739 16.212L8.62171 16.2206L8.64643 16.228L8.93164 15.2695ZM9.19336 15.4248L9.90047 14.7177L9.90029 14.7175L9.19336 15.4248ZM9.34863 15.6865L8.39023 15.9719L8.39788 15.9976L8.40689 16.0229L9.34863 15.6865ZM10.5684 19.0547L11.5433 18.8321L11.5296 18.7724L11.5088 18.7148L10.5684 19.0547ZM10.9072 19.6035L10.2725 20.3762L10.2727 20.3764L10.9072 19.6035ZM11.5107 19.8291L11.4814 20.8287L11.506 20.8294L11.5305 20.8289L11.5107 19.8291ZM12.1006 19.6113L12.7363 20.3833L12.7365 20.3831L12.1006 19.6113ZM12.4268 19.0752L11.4875 18.7321L11.4639 18.7966L11.4494 18.8638L12.4268 19.0752ZM13.6465 15.707L14.5894 16.0401L14.5959 16.0215L14.6018 16.0027L13.6465 15.707ZM13.8135 15.4297L13.1066 14.7224L13.1064 14.7226L13.8135 15.4297ZM14.0908 15.2627L14.3862 16.2181L14.4033 16.2128L14.4202 16.2069L14.0908 15.2627ZM17.5459 14.0098L17.3097 13.0381L17.254 13.0516L17.2002 13.0714L17.5459 14.0098ZM18.0391 13.6875L18.8339 14.2943L18.8341 14.294L18.0391 13.6875ZM18.2197 13.127L17.2209 13.0794L17.2191 13.1173L17.2201 13.1553L18.2197 13.127ZM18.042 12.5557L18.8384 11.9509L18.8382 11.9506L18.042 12.5557ZM17.5391 12.2314L17.1859 13.167L17.2502 13.1913L17.3171 13.2065L17.5391 12.2314ZM14.0566 10.9648L14.387 10.021L14.3636 10.0128L14.3399 10.0058L14.0566 10.9648ZM13.793 10.8076L13.0802 11.509L13.0802 11.5091L13.793 10.8076ZM13.6396 10.541L14.6033 10.274L14.5934 10.238L14.5808 10.2029L13.6396 10.541ZM12.4141 7.17285L11.4743 7.51471L11.4754 7.51777L12.4141 7.17285ZM15 0L15 1C22.732 1.00001 29 7.26803 29 15H30H31C31 6.16345 23.8365 -0.999994 15 -1L15 0ZM30 15L29 15C29 22.732 22.732 29 15 29L15 30L15 31C23.8365 31 31 23.8365 31 15L30 15ZM15 30V29C7.26803 29 1.00001 22.732 1 15L0 15L-1 15C-0.999992 23.8365 6.16346 31 15 31V30ZM0 15H1C1 7.26802 7.26802 1 15 1V0V-1C6.16345 -1 -1 6.16345 -1 15H0ZM19.9102 15.3232L19.9157 14.3233C19.5571 14.3213 19.2103 14.4454 18.935 14.6713L19.5693 15.4443L20.2037 16.2174C20.1203 16.2858 20.015 16.3238 19.9046 16.3232L19.9102 15.3232ZM19.5693 15.4443L18.9348 14.6714C18.6572 14.8993 18.4704 15.2163 18.403 15.565L19.3848 15.7549L20.3666 15.9447C20.3463 16.0498 20.2897 16.1467 20.2038 16.2173L19.5693 15.4443ZM19.3848 15.7549L18.4341 15.4447C18.2188 16.1044 18.0193 16.6083 17.7642 17.3588L18.7109 17.6807L19.6577 18.0026C19.8605 17.4062 20.1332 16.6848 20.3354 16.0651L19.3848 15.7549ZM18.7109 17.6807L17.7567 17.3816C17.7852 17.2906 17.8356 17.2053 17.9072 17.1337L18.6143 17.8408L19.3214 18.5479C19.4821 18.3872 19.599 18.191 19.6652 17.9797L18.7109 17.6807ZM18.6143 17.8408L17.908 17.1329C17.9747 17.0663 18.0589 17.0137 18.156 16.9833L18.4551 17.9375L18.7541 18.8917C18.9713 18.8237 19.1648 18.7042 19.3206 18.5487L18.6143 17.8408ZM18.4551 17.9375L18.1157 16.9968L16.1558 17.7039L16.4951 18.6445L16.8344 19.5852L18.7944 18.8782L18.4551 17.9375ZM16.4951 18.6445L16.2387 17.678C15.9106 17.765 15.6182 17.9595 15.4112 18.2343L16.21 18.8359L17.0087 19.4376C16.9434 19.5244 16.8521 19.5844 16.7515 19.6111L16.4951 18.6445ZM16.21 18.8359L15.4112 18.2343C15.2047 18.5084 15.0977 18.8432 15.1047 19.1836L16.1045 19.1631L17.1043 19.1425C17.1064 19.2475 17.0735 19.3516 17.0087 19.4376L16.21 18.8359ZM16.1045 19.1631L15.1062 19.1045C15.0857 19.4533 15.1875 19.7965 15.391 20.0768L16.2002 19.4893L17.0094 18.9017C17.0757 18.993 17.1096 19.106 17.1028 19.2217L16.1045 19.1631ZM16.2002 19.4893L15.3915 20.0774C15.5944 20.3565 15.8893 20.5608 16.2294 20.6494L16.4814 19.6816L16.7335 18.7139C16.8474 18.7436 16.9435 18.8111 17.0089 18.9011L16.2002 19.4893ZM16.4814 19.6816L16.1395 20.6214L18.1199 21.3421L18.4619 20.4023L18.8039 19.4626L16.8234 18.7419L16.4814 19.6816ZM18.4619 20.4023L18.1716 21.3593C18.0702 21.3285 17.9795 21.2735 17.9065 21.2006L18.6133 20.4932L19.3201 19.7857C19.1625 19.6284 18.9679 19.5109 18.7523 19.4454L18.4619 20.4023ZM18.6133 20.4932L17.9062 21.2003C17.8324 21.1265 17.7778 21.0356 17.7474 20.9356L18.7041 20.6445L19.6608 20.3535C19.5956 20.1392 19.4786 19.9443 19.3204 19.7861L18.6133 20.4932ZM18.7041 20.6445L17.7505 20.9457C17.9581 21.6029 18.2123 22.268 18.4341 22.9016L19.3779 22.5713L20.3218 22.2409C20.0721 21.5275 19.8543 20.9659 19.6577 20.3434L18.7041 20.6445ZM19.3779 22.5713L18.3998 22.7791C18.4735 23.1265 18.6646 23.4383 18.9397 23.6619L19.5703 22.8857L20.2009 22.1096C20.2801 22.1739 20.3348 22.2631 20.3561 22.3635L19.3779 22.5713ZM19.5703 22.8857L18.9405 23.6625C19.2174 23.887 19.5617 24.0078 19.9143 24.0088L19.917 23.0088L19.9197 22.0088C20.02 22.0091 20.1192 22.0434 20.2001 22.109L19.5703 22.8857ZM19.917 23.0088L19.9195 24.0088C20.2683 24.0079 20.608 23.8887 20.8815 23.6682L20.2539 22.8896L19.6263 22.1111C19.709 22.0445 19.8108 22.0091 19.9144 22.0088L19.917 23.0088ZM20.2539 22.8896L20.8822 23.6676C21.1534 23.4486 21.3443 23.1422 21.4194 22.7982L20.4424 22.585L19.4654 22.3717C19.4881 22.2674 19.5453 22.1766 19.6256 22.1117L20.2539 22.8896ZM20.4424 22.585L21.394 22.8923C21.6059 22.236 21.8109 21.7146 22.063 20.9733L21.1162 20.6514L20.1694 20.3295C19.9635 20.9352 19.6964 21.6407 19.4908 22.2777L20.4424 22.585ZM21.1162 20.6514L22.0756 20.9336C22.0464 21.0327 21.9911 21.1292 21.9086 21.2096L21.2109 20.4932L20.5133 19.7767C20.3412 19.9443 20.2213 20.1501 20.1569 20.3691L21.1162 20.6514ZM21.2109 20.4932L21.9084 21.2098C21.827 21.289 21.7296 21.3421 21.6279 21.3691L21.3721 20.4023L21.1162 19.4356C20.8936 19.4946 20.6845 19.6101 20.5135 19.7766L21.2109 20.4932ZM21.3721 20.4023L21.7152 21.3416L23.6879 20.6209L23.3447 19.6816L23.0016 18.7424L21.0289 19.4631L21.3721 20.4023ZM23.3447 19.6816L23.6171 20.6438C23.9415 20.552 24.2261 20.3547 24.4259 20.0837L23.6211 19.4902L22.8163 18.8967C22.8795 18.8109 22.9694 18.7486 23.0723 18.7195L23.3447 19.6816ZM23.6211 19.4902L24.4261 20.0834C24.6238 19.8152 24.7307 19.4859 24.7224 19.1455L23.7227 19.1699L22.723 19.1944C22.7203 19.084 22.7549 18.9801 22.816 18.897L23.6211 19.4902ZM23.7227 19.1699L24.7209 19.2296C24.7405 18.901 24.6517 18.5777 24.4741 18.3078L23.6387 18.8574L22.8033 19.407C22.7471 19.3216 22.718 19.2184 22.7244 19.1102L23.7227 19.1699ZM23.6387 18.8574L24.4736 18.307C24.2937 18.0341 24.0311 17.8285 23.7266 17.7181L23.3857 18.6582L23.0449 19.5983C22.9475 19.563 22.8624 19.4968 22.8038 19.4078L23.6387 18.8574ZM23.3857 18.6582L23.7245 17.7173C23.0632 17.4792 22.3738 17.2242 21.6956 16.9868L21.3652 17.9307L21.0349 18.8745C21.7035 19.1085 22.3615 19.3523 23.047 19.5991L23.3857 18.6582ZM21.3652 17.9307L21.6021 16.9591C21.7269 16.9896 21.8344 17.053 21.9171 17.1357L21.21 17.8428L20.5029 18.5499C20.6711 18.7181 20.886 18.8431 21.1284 18.9022L21.3652 17.9307ZM21.21 17.8428L21.9171 17.1357C21.9997 17.2183 22.0632 17.3258 22.0936 17.4506L21.1221 17.6875L20.1505 17.9244C20.2096 18.1667 20.3347 18.3817 20.5028 18.5499L21.21 17.8428ZM21.1221 17.6875L22.0756 17.3863C21.8681 16.729 21.6153 16.0662 21.3931 15.4314L20.4492 15.7617L19.5054 16.0921C19.7545 16.8038 19.9721 17.3666 20.1685 17.9887L21.1221 17.6875ZM20.4492 15.7617L21.4275 15.5544C21.3537 15.2062 21.1624 14.8946 20.8874 14.6712L20.2568 15.4473L19.6262 16.2234C19.5474 16.1593 19.4923 16.07 19.4709 15.969L20.4492 15.7617ZM20.2568 15.4473L20.8874 14.6711C20.6135 14.4486 20.2701 14.3243 19.913 14.3232L19.9102 15.3232L19.9073 16.3232C19.8028 16.3229 19.7041 16.2866 19.6263 16.2234L20.2568 15.4473ZM11.4775 6.40527L11.465 5.40535C11.0245 5.41089 10.5982 5.56543 10.2564 5.84442L10.8887 6.61914L11.521 7.39386C11.5119 7.40129 11.5011 7.40506 11.4901 7.40519L11.4775 6.40527ZM10.8887 6.61914L10.2564 5.84443C9.91356 6.12421 9.67782 6.51147 9.5844 6.94063L10.5615 7.15332L11.5386 7.36601C11.5366 7.37552 11.5311 7.38563 11.521 7.39386L10.8887 6.61914ZM10.5615 7.15332L9.62222 6.81022C9.21188 7.93362 8.79867 9.06264 8.39954 10.1856L9.3418 10.5205L10.2841 10.8554C10.6796 9.7424 11.0895 8.62246 11.5008 7.49642L10.5615 7.15332ZM9.3418 10.5205L8.38642 10.2251C8.40171 10.1757 8.42921 10.1292 8.46767 10.0908L9.1748 10.7979L9.88194 11.5049C10.0753 11.3115 10.2172 11.0747 10.2972 10.8159L9.3418 10.5205ZM9.1748 10.7979L8.4677 10.0907C8.50619 10.0523 8.55264 10.0248 8.60208 10.0095L8.89746 10.9648L9.19284 11.9202C9.45161 11.8402 9.68849 11.6984 9.88191 11.505L9.1748 10.7979ZM8.89746 10.9648L8.56464 10.0219C7.41187 10.4287 6.26205 10.8582 5.13117 11.2731L5.47559 12.2119L5.82 13.1507C6.9657 12.7304 8.093 12.3092 9.23028 11.9078L8.89746 10.9648ZM5.47559 12.2119L5.22737 11.2432C4.8119 11.3497 4.44223 11.5942 4.18217 11.9401L4.98145 12.541L5.78072 13.142C5.76535 13.1624 5.74487 13.1752 5.7238 13.1806L5.47559 12.2119ZM4.98145 12.541L4.18198 11.9403C3.92183 12.2865 3.78986 12.7098 3.80322 13.1386L4.80273 13.1074L5.80225 13.0763C5.80292 13.0979 5.79638 13.1211 5.78091 13.1417L4.98145 12.541ZM4.80273 13.1074L3.80438 13.0501C3.77923 13.4883 3.908 13.9244 4.17318 14.2797L4.97461 13.6816L5.77604 13.0836C5.79487 13.1088 5.80264 13.1377 5.80109 13.1647L4.80273 13.1074ZM4.97461 13.6816L4.17327 14.2799C4.43788 14.6343 4.81848 14.8822 5.24599 14.9831L5.47559 14.0098L5.70518 13.0365C5.73214 13.0428 5.75754 13.0588 5.77595 13.0834L4.97461 13.6816ZM5.47559 14.0098L5.12988 14.9481C6.27888 15.3714 7.43169 15.7986 8.59739 16.212L8.93164 15.2695L9.26589 14.327C8.11457 13.9187 6.97583 13.4968 5.82129 13.0714L5.47559 14.0098ZM8.93164 15.2695L8.64643 16.228C8.58925 16.211 8.5336 16.1792 8.48643 16.1321L9.19336 15.4248L9.90029 14.7175C9.70746 14.5248 9.4714 14.3868 9.21685 14.3111L8.93164 15.2695ZM9.19336 15.4248L8.48625 16.1319C8.43875 16.0844 8.40712 16.0287 8.39023 15.9719L9.34863 15.6865L10.307 15.4011C10.2314 15.147 10.0936 14.9108 9.90047 14.7177L9.19336 15.4248ZM9.34863 15.6865L8.40689 16.0229C8.81146 17.1557 9.22675 18.2848 9.62791 19.3946L10.5684 19.0547L11.5088 18.7148C11.1017 17.5884 10.6941 16.4805 10.2904 15.3502L9.34863 15.6865ZM10.5684 19.0547L9.59346 19.2773C9.69163 19.7072 9.92955 20.0945 10.2725 20.3762L10.9072 19.6035L11.542 18.8308C11.5436 18.8321 11.5434 18.8328 11.5433 18.8321L10.5684 19.0547ZM10.9072 19.6035L10.2727 20.3764C10.6154 20.6577 11.0409 20.8158 11.4814 20.8287L11.5107 19.8291L11.54 18.8295C11.5394 18.8295 11.5402 18.8293 11.5417 18.8306L10.9072 19.6035ZM11.5107 19.8291L11.5305 20.8289C11.9696 20.8202 12.3952 20.6642 12.7363 20.3833L12.1006 19.6113L11.4649 18.8394C11.4735 18.8323 11.4826 18.8295 11.491 18.8293L11.5107 19.8291ZM12.1006 19.6113L12.7365 20.3831C13.0774 20.1022 13.3114 19.7152 13.4042 19.2866L12.4268 19.0752L11.4494 18.8638C11.4511 18.8557 11.4559 18.8468 11.4647 18.8396L12.1006 19.6113ZM12.4268 19.0752L13.3661 19.4183C13.7758 18.2966 14.1897 17.1714 14.5894 16.0401L13.6465 15.707L12.7036 15.3739C12.3085 16.4923 11.8995 17.6041 11.4875 18.7321L12.4268 19.0752ZM13.6465 15.707L14.6018 16.0027C14.5866 16.0518 14.5593 16.0981 14.5206 16.1368L13.8135 15.4297L13.1064 14.7226C12.9129 14.9161 12.7711 15.1531 12.6912 15.4114L13.6465 15.707ZM13.8135 15.4297L14.5204 16.137C14.4821 16.1752 14.4359 16.2027 14.3862 16.2181L14.0908 15.2627L13.7954 14.3073C13.5365 14.3874 13.2997 14.5293 13.1066 14.7224L13.8135 15.4297ZM14.0908 15.2627L14.4202 16.2069C15.5888 15.7993 16.7432 15.3712 17.8916 14.9481L17.5459 14.0098L17.2002 13.0714C16.0451 13.497 14.9098 13.9179 13.7614 14.3185L14.0908 15.2627ZM17.5459 14.0098L17.7821 14.9815C18.2013 14.8796 18.5726 14.6366 18.8339 14.2943L18.0391 13.6875L17.2442 13.0807C17.2603 13.0596 17.2832 13.0445 17.3097 13.0381L17.5459 14.0098ZM18.0391 13.6875L18.8341 14.294C19.0953 13.9517 19.2315 13.5295 19.2193 13.0986L18.2197 13.127L17.2201 13.1553C17.2194 13.1281 17.2278 13.1022 17.244 13.081L18.0391 13.6875ZM18.2197 13.127L19.2186 13.1745C19.2396 12.7334 19.1038 12.3004 18.8384 11.9509L18.042 12.5557L17.2456 13.1604C17.2288 13.1383 17.2194 13.1099 17.2209 13.0794L18.2197 13.127ZM18.042 12.5557L18.8382 11.9506C18.5721 11.6004 18.1908 11.3542 17.761 11.2564L17.5391 12.2314L17.3171 13.2065C17.2882 13.1999 17.2632 13.1836 17.2458 13.1607L18.042 12.5557ZM17.5391 12.2314L17.8922 11.2959C16.7308 10.8575 15.5621 10.4323 14.387 10.021L14.0566 10.9648L13.7263 11.9087C14.8859 12.3146 16.0395 12.7343 17.1859 13.167L17.5391 12.2314ZM14.0566 10.9648L14.3399 10.0058C14.3977 10.0229 14.456 10.0556 14.5057 10.1062L13.793 10.8076L13.0802 11.5091C13.2759 11.7078 13.5161 11.8479 13.7734 11.9239L14.0566 10.9648ZM13.793 10.8076L14.5057 10.1062C14.5546 10.1559 14.5868 10.2145 14.6033 10.274L13.6396 10.541L12.676 10.808C12.7481 11.0683 12.8852 11.3109 13.0802 11.509L13.793 10.8076ZM13.6396 10.541L14.5808 10.2029C14.1755 9.07503 13.7641 7.94738 13.3527 6.82793L12.4141 7.17285L11.4754 7.51777C11.8858 8.63452 12.2955 9.75734 12.6985 10.8791L13.6396 10.541ZM12.4141 7.17285L13.3538 6.83099C13.2194 6.46148 13.0086 6.09488 12.6712 5.81969C12.3179 5.53161 11.901 5.40533 11.4777 5.40527L11.4775 6.40527L11.4774 7.40527C11.4912 7.40528 11.4837 7.40706 11.4633 7.40019C11.4415 7.39288 11.4214 7.38121 11.4072 7.36968C11.3815 7.34867 11.4202 7.36583 11.4743 7.51471L12.4141 7.17285Z" fill="#659DF2" mask="url(#path-1-inside-1_6_40182)"/>
            </Svg>
            <ThemedText style={styles.primaryBtnText}>
              Discover this place more
            </ThemedText>
          </Pressable>

          <Pressable style={styles.secondaryBtn} onPress={handleNextQuest}>
            <Svg width="24" height="30" viewBox="0 0 24 30" fill="none">
              <Path d="M4.93066 0.522461C5.62557 0.455439 6.32706 0.540059 6.9873 0.771484L20.1729 5.38184L20.1797 5.38379C21.1499 5.7089 21.9945 6.34021 22.5918 7.18652C23.1892 8.03299 23.508 9.05122 23.5 10.0947V10.1016C23.5077 11.1458 23.1883 12.1651 22.5898 13.0117C21.9915 13.8581 21.1452 14.4884 20.1738 14.8125L20.167 14.8145L6.98145 19.4248C6.67923 19.5299 6.36674 19.6034 6.0498 19.6436L5.61328 19.6982V26.8936C5.61321 27.5874 5.34164 28.2511 4.86133 28.7393C4.38124 29.2272 3.73194 29.5 3.05664 29.5C2.38135 29.5 1.73206 29.2272 1.25195 28.7393C0.77164 28.2511 0.500071 27.5874 0.5 26.8936V5.25977C0.510403 5.01009 0.539302 4.76152 0.587891 4.5166L0.588867 4.51465C0.725371 3.81524 1.00755 3.15363 1.41602 2.5752C1.82448 1.9969 2.35002 1.51503 2.95605 1.16113C3.56215 0.807236 4.23566 0.589559 4.93066 0.522461Z" fill="white" stroke="white"/>
            </Svg>
            <ThemedText style={styles.secondaryBtnText}>
              Move on to next quest
            </ThemedText>
          </Pressable>
        </View>
      </ScrollView>
    </LinearGradient>
  );
}

const styles = StyleSheet.create({
  background: {
    flex: 1,
    backgroundColor: "#34495E",
  },
  container: {
    paddingTop: 60,
    paddingHorizontal: 20,
    paddingBottom: 40,
    alignItems: "center",
  },
  header: {
    width: "100%",
    flexDirection: "row",
    justifyContent: "space-between",
    alignItems: "center",
    marginBottom: 24,
  },
  headerLeft: {
    flexDirection: "row",
    alignItems: "center",
    gap: 8,
  },
  headerRight: {
    flexDirection: "row",
    alignItems: "center",
    gap: 12,
  },
  headerTitle: {
    color: "#FFF",
    fontSize: 16,
    fontWeight: "700",
  },
  placeImageContainer: {
    width: "100%",
    height: 309,
    borderTopLeftRadius: 10,
    borderTopRightRadius: 10,
    borderBottomLeftRadius: 0,
    borderBottomRightRadius: 0,
    backgroundColor: "#EF6A39",
    overflow: "hidden",
    marginTop: 40,
    marginBottom: 0,
    position: "relative",
  },
  whiteCardBelowImage: {
    width: "100%",
    height: 131,
    borderRadius: 10,
    borderTopLeftRadius: 0,
    borderTopRightRadius: 0,
    borderWidth: 1,
    borderColor: "#FFF",
    backgroundColor: "#FFF",
    marginBottom: 20,
    padding: 15,
  },
  discoveredText: {
    color: "#34495E",
    fontFamily: "Pretendard",
    fontSize: 16,
    fontWeight: "400",
    lineHeight: 20,
    letterSpacing: -0.16,
    marginBottom: 15,
  },
  quizResultsRow: {
    flexDirection: "row",
    justifyContent: "space-between",
    alignItems: "center",
    gap: 8,
  },
  quizResultItem: {
    flexDirection: "column",
    alignItems: "center",
    gap: 5,
    flex: 1,
  },
  mintBadgeAboveBar: {
    flexDirection: "row",
    paddingHorizontal: 3,
    paddingVertical: 3,
    justifyContent: "center",
    alignItems: "center",
    gap: 2,
  },
  mintValueAboveBar: {
    fontFamily: "Inter",
    fontSize: 12,
    fontWeight: "700",
    textAlign: "center",
  },
  mintValueCorrect: {
    color: "#76C7AD",
  },
  mintValueWrong: {
    color: "#FF7F50",
  },
  progressBar: {
    width: 54,
    height: 10,
    borderRadius: 25,
  },
  progressBarCorrect: {
    backgroundColor: "#76C7AD",
  },
  progressBarWrong: {
    backgroundColor: "#FF7F50",
  },
  mintBadgeSmall: {
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "center",
    gap: 4,
    paddingVertical: 4,
    paddingHorizontal: 8,
    borderRadius: 12,
    width: "100%",
  },
  mintBadgeCorrect: {
    backgroundColor: "#76C7AD",
  },
  mintBadgeWrong: {
    backgroundColor: "#E57373",
  },
  mintValueSmall: {
    color: "#FFF",
    fontFamily: "Inter",
    fontSize: 12,
    fontWeight: "600",
  },
  resultCircle: {
    width: 28,
    height: 28,
    borderRadius: 14,
    justifyContent: "center",
    alignItems: "center",
  },
  resultCircleCorrect: {
    backgroundColor: "#76C7AD",
  },
  resultCircleWrong: {
    backgroundColor: "#E57373",
  },
  resultIcon: {
    color: "#FFF",
    fontSize: 16,
    fontWeight: "700",
  },
  placeImage: {
    width: "100%",
    height: "100%",
  },
  placeNameOverlay: {
    position: "absolute",
    top: 20,
    left: 20,
    color: "#FFF",
    textAlign: "center",
    textShadowColor: "rgba(0, 0, 0, 0.50)",
    textShadowOffset: { width: 0, height: 4 },
    textShadowRadius: 4,
    fontFamily: "Pretendard",
    fontSize: 16,
    fontWeight: "700",
  },
  logoQos: {
    position: "absolute",
    bottom: 11,
    left: 11,
    width: 137,
    height: 64,
    aspectRatio: 137 / 64,
  },
  card: {
    width: "100%",
    borderRadius: 20,
    backgroundColor: "#FFFFFF",
    overflow: "hidden",
    marginBottom: 32,
  },
  cardImage: {
    width: "100%",
    height: 180,
  },
  cardBody: {
    padding: 16,
  },
  cardPlaceName: {
    fontSize: 18,
    fontWeight: "700",
    marginBottom: 8,
    color: "#34495E",
  },
  cardSubtitle: {
    fontSize: 14,
    color: "#34495E",
    marginBottom: 16,
  },
  progressRow: {
    flexDirection: "row",
    justifyContent: "space-between",
  },
  progressItem: {
    alignItems: "center",
    flex: 1,
  },
  mintBadge: {
    paddingHorizontal: 8,
    paddingVertical: 4,
    borderRadius: 12,
    backgroundColor: "#34495E",
    marginBottom: 4,
  },
  mintValue: {
    color: "#FFF",
    fontSize: 12,
    fontWeight: "700",
  },
  mintResult: {
    width: 20,
    height: 20,
    borderRadius: 10,
    justifyContent: "center",
    alignItems: "center",
  },
  mintResultText: {
    fontSize: 12,
    fontWeight: "700",
  },
  mintResultCorrect: {
    color: "#76C7AD",
  },
  mintResultWrong: {
    color: "#FF7F50",
  },
  actions: {
    width: "100%",
    gap: 12,
  },
  primaryBtn: {
    height: 50,
    padding: 10,
    flexDirection: "row",
    justifyContent: "center",
    alignItems: "center",
    gap: 10,
    borderRadius: 35,
    backgroundColor: "#FFFFFF",
  },
  primaryBtnText: {
    color: "#659DF2",
    fontFamily: "Inter",
    fontSize: 16,
    fontWeight: "700",
  },
  secondaryBtn: {
    height: 50,
    padding: 10,
    flexDirection: "row",
    justifyContent: "center",
    alignItems: "center",
    gap: 10,
    borderRadius: 35,
    backgroundColor: "#FF7F50",
  },
  secondaryBtnText: {
    color: "#FFF",
    fontFamily: "Inter",
    fontSize: 16,
    fontWeight: "700",
  },
});
